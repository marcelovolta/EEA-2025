<!DOCTYPE html>
<html lang="en"><head>
<script src="PresentacionClase2_files/libs/clipboard/clipboard.min.js"></script>
<script src="PresentacionClase2_files/libs/quarto-html/tabby.min.js"></script>
<script src="PresentacionClase2_files/libs/quarto-html/popper.min.js"></script>
<script src="PresentacionClase2_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="PresentacionClase2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="PresentacionClase2_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="PresentacionClase2_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="PresentacionClase2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Lucía Babino">
  <title>Clase 2: Tidyverse</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="PresentacionClase2_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="PresentacionClase2_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="PresentacionClase2_files/libs/revealjs/dist/theme/quarto.css">
  <link href="PresentacionClase2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="PresentacionClase2_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="PresentacionClase2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="PresentacionClase2_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="PresentacionClase2_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="PresentacionClase2_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Clase 2: Tidyverse</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Lucía Babino 
</div>
</div>
</div>

</section>
<section class="slide level2">

<div class="cell-output-display custom-style">
<style>
  pre code {
    font-size: 1em !important;
  }
  .reveal pre {
    font-size: 1em !important;
  }
</style>
</div>
</section>
<section>
<section id="tidyverse" class="title-slide slide level1 center">
<h1>Tidyverse</h1>
<div class="small">
<p>Basado en la <a href="https://eea-uba.github.io/EEA-2024/clase%202/Clase%202%20-%20Tidyverse.nb.html">clase de Juan Barriola, Fernando González y Franco Mastelli</a></p>
</div>
</section>
<section id="cuestiones-administrativas" class="slide level2">
<h2>Cuestiones administrativas</h2>
<ul>
<li>Mail para consultas sobre esta clase y las de causalidad:</li>
</ul>
<p>lbabinog@gmail.com (Lucía Babino)</p>
<ul>
<li><p>Material de github</p>
<ul>
<li>Presentación</li>
<li>Apuntes: apuntes en los que se basa esta presentación</li>
<li>Ejercicios, resueltos y datos</li>
</ul></li>
<li><p>Organización de la clase</p>
<ul>
<li>Exposición</li>
<li>Práctica (si queda tiempo)</li>
</ul></li>
</ul>
</section>
<section id="curso-on-line-de-análisis-y-visualización-de-datos-con-r-de-lucía-babino" class="slide level2">
<h2>Curso on line de Análisis y visualización de datos con R (de Lucía Babino)</h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=OTttYM-oaGA&amp;list=PLYqQ3ecJzraETao-jyb4VMO-5bhhPoX4G">Clase 3: Manipulación, análisis y exportación de datos con tidyverse</a></li>
<li><a href="https://www.youtube.com/watch?v=qVSQ1HmvS4M&amp;list=PLYqQ3ecJzraFraZdrOi05kx76aH7Cbz5H">Clase 4: Visualización de datos con ggplot2</a></li>
</ul>
<p>(links a todas las clases en el github)</p>
<aside class="notes">
<p>les dejo los liks (que tambien estan en el github) a dos de las clases de un curos online que tengo donde se ven esos temas por si quieren profundizar o verlos con mas detenimiento. Abarca la mayoria de los temas que veremos hoy y algunos mas.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<!-- Slide 2 -->
</section>
<section id="qué-es-tidyverse" class="slide level2">
<h2>¿Qué es tidyverse?</h2>
<p><strong><code>tidyverse</code></strong>: paquete <em>umbrella</em> que engloba muchos paquetes con funciones útiles para manipular y organizar datasets y realizar gráficos.</p>
</section>
<section id="paquetes-en-r" class="slide level2">
<h2>Paquetes en R</h2>
<ul>
<li><strong>Paquete:</strong> conjunto de funciones, datos y documentación organizada que extiende las capacidades básicas del lenguaje R.</li>
</ul>
<div class="fragment">
<ul>
<li>R tiene un paquete Base que está disponible al iniciar sesión en R, para usar funciones de otros paquetes, primero debemos <em>instalarlos</em> y <em>cargarlos</em>.</li>
</ul>
</div>
</section>
<section id="cómo-usar-un-paquete" class="slide level2 smaller">
<h2>Cómo usar un paquete</h2>
<ol type="1">
<li><p><strong>Instalarlo</strong></p>
<ul>
<li><code>install.packages("nombre_paquete")</code></li>
<li>descarga el paquete de internet y lo guarda en la computadora</li>
<li>se hace una sola vez</li>
</ul></li>
</ol>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<ol start="2" type="1">
<li><p><strong>Cargarlo</strong></p>
<ul>
<li><code>library(nombre_paquete)</code></li>
<li>carga el paquete en la sesión de R, lo que nos permite usar sus funciones y herramientas.</li>
<li>se hace en cada sesión de trabajo</li>
</ul></li>
</ol>
<aside class="notes">
<p><strong>por si preguntan</strong></p>
<p>Históricamente, en R y en otros lenguajes como S y Unix, el término “library” se usaba para referirse a colecciones de funciones o código reutilizable, lo que hoy llamamos paquetes.</p>
<p>Entonces, aunque hoy hablamos de “paquetes”, el nombre de la función library() quedó como parte del legado del lenguaje.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="instalación-y-carga-de-paquetes-en-r" class="slide level2">
<h2>Instalación y carga de paquetes en R</h2>
<p>Ejemplo de instalación y carga del paquete “tidyverse”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Instalar (una sola vez)</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># Cargar (cada vez que abrís R)</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tidyverse-1" class="slide level2 smaller">
<h2>Tidyverse</h2>
<p><strong>Tidyverse</strong> es un paquete “umbrella” que agrupa una serie de paquetes que tienen una misma lógica. Todos ellos quedan disponibles al instalar y cargar <code>tydiverse</code>.</p>
<div class="fragment">
<p>Hoy veremos:</p>
<ul>
<li><p><strong>magrittr</strong>: permite escribir código más limpio y legible</p></li>
<li><p><strong>dplyr</strong>: manipular y transformar datos</p></li>
<li><p><strong>tidyr</strong>: organizar y reestructurar datos en formato ordenado (tidy).</p></li>
<li><p><strong>lubridate</strong>: para trabajar con datos tipo fecha</p></li>
<li><p><strong>stringr</strong>: para trabajar con datos tipo string</p></li>
<li><p><strong>ggplot2</strong>: para realizar gráficos</p></li>
</ul>
</div>
</section></section>
<section>
<section id="operador-pipe-de-magrittr" class="title-slide slide level1 center">
<h1>Operador <strong>pipe</strong> (de <code>magrittr</code>)</h1>

</section>
<section id="indice-de-salarios-del-indec" class="slide level2 smaller">
<h2>Indice de salarios del INDEC</h2>
<div style="font-size:0.8em; line-height:1.2;">
<p>A lo largo de esta clase usaremos parte de un conjunto de datos real de <code>Indice de salarios del INDEC</code> que contine las variables:</p>
<ul>
<li><code>FECHA</code>: mes y año</li>
<li><code>GRUPO</code>: sector (Privado registrado, Privado no registrado o Público)</li>
<li><code>INDICE</code>: estimación del salario medio</li>
</ul>
<p>Más información en la <a href="https://www.indec.gob.ar/indec/web/Nivel4-Tema-4-31-61">página del indec</a></p>
<aside class="notes">
<p>la metodologia con la que se calcula el indice es bastante complicada, pueden verla en la pagina del indec.</p>
<p>Lo creamos a mano así:</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>FECHA  <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"Mar-20"</span>, <span class="st">"Mar-20"</span>, <span class="st">"Mar-20"</span>,</span>
<span id="cb2-2"><a href="#cb2-2"></a>             <span class="st">"Abr-20"</span>, <span class="st">"Abr-20"</span>, <span class="st">"Abr-20"</span>,</span>
<span id="cb2-3"><a href="#cb2-3"></a>             <span class="st">"May-20"</span>, <span class="st">"May-20"</span>, <span class="st">"May-20"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a>GRUPO  <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"Privado_Registrado"</span>,<span class="st">"Público"</span>,<span class="st">"Privado_No_Registrado"</span>,</span>
<span id="cb2-6"><a href="#cb2-6"></a>             <span class="st">"Privado_Registrado"</span>,<span class="st">"Público"</span>,<span class="st">"Privado_No_Registrado"</span>,</span>
<span id="cb2-7"><a href="#cb2-7"></a>             <span class="st">"Privado_Registrado"</span>,<span class="st">"Público"</span>,<span class="st">"Privado_No_Registrado"</span>)</span>
<span id="cb2-8"><a href="#cb2-8"></a>INDICE  <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="fl">286.4</span>,    <span class="fl">262.1</span>,  <span class="fl">248.5</span>,</span>
<span id="cb2-9"><a href="#cb2-9"></a>              <span class="fl">285.7</span>,    <span class="fl">263.5</span>,  <span class="fl">250.2</span>,</span>
<span id="cb2-10"><a href="#cb2-10"></a>              <span class="fl">285.1</span>,    <span class="fl">264.9</span>,  <span class="fl">249.0</span> )</span>
<span id="cb2-11"><a href="#cb2-11"></a></span>
<span id="cb2-12"><a href="#cb2-12"></a>Datos <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(FECHA, GRUPO, INDICE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="indice-de-salarios-del-indec-1" class="slide level2 smaller">
<h2>Indice de salarios del INDEC</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>FECHA  <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"Mar-20"</span>, <span class="st">"Mar-20"</span>, <span class="st">"Mar-20"</span>,</span>
<span id="cb3-2"><a href="#cb3-2"></a>             <span class="st">"Abr-20"</span>, <span class="st">"Abr-20"</span>, <span class="st">"Abr-20"</span>,</span>
<span id="cb3-3"><a href="#cb3-3"></a>             <span class="st">"May-20"</span>, <span class="st">"May-20"</span>, <span class="st">"May-20"</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a>GRUPO  <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"Privado_Registrado"</span>,<span class="st">"Público"</span>,<span class="st">"Privado_No_Registrado"</span>,</span>
<span id="cb3-6"><a href="#cb3-6"></a>             <span class="st">"Privado_Registrado"</span>,<span class="st">"Público"</span>,<span class="st">"Privado_No_Registrado"</span>,</span>
<span id="cb3-7"><a href="#cb3-7"></a>             <span class="st">"Privado_Registrado"</span>,<span class="st">"Público"</span>,<span class="st">"Privado_No_Registrado"</span>)</span>
<span id="cb3-8"><a href="#cb3-8"></a>INDICE  <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="fl">286.4</span>,    <span class="fl">262.1</span>,  <span class="fl">248.5</span>,</span>
<span id="cb3-9"><a href="#cb3-9"></a>              <span class="fl">285.7</span>,    <span class="fl">263.5</span>,  <span class="fl">250.2</span>,</span>
<span id="cb3-10"><a href="#cb3-10"></a>              <span class="fl">285.1</span>,    <span class="fl">264.9</span>,  <span class="fl">249.0</span> )</span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a>Datos <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(FECHA, GRUPO, INDICE)</span>
<span id="cb3-13"><a href="#cb3-13"></a>Datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   FECHA                 GRUPO INDICE
1 Mar-20    Privado_Registrado  286.4
2 Mar-20               Público  262.1
3 Mar-20 Privado_No_Registrado  248.5
4 Abr-20    Privado_Registrado  285.7
5 Abr-20               Público  263.5
6 Abr-20 Privado_No_Registrado  250.2
7 May-20    Privado_Registrado  285.1
8 May-20               Público  264.9
9 May-20 Privado_No_Registrado  249.0</code></pre>
</div>
</div>
</div>
</section>
<section id="el-operador-pipe" class="slide level2">
<h2>El operador <strong>pipe</strong> <code>%&gt;%</code></h2>
<ul>
<li><p>Sirve para <strong>encadenar funciones</strong> de forma legible.</p></li>
<li><p>Atajo de teclado:</p>
<ul>
<li>Ctrl + Shift + M (Windows)</li>
<li>Cmd + Shift + M (Mac)</li>
</ul></li>
</ul>
</section>
<section id="el-operador-pipe-1" class="slide level2 smaller">
<h2>El operador <strong>pipe</strong> <code>%&gt;%</code></h2>
<ul>
<li>Toma el objeto a la izquierda y lo pasa como primer argumento de la función a la derecha.</li>
</ul>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<ul>
<li>Ejemplo: si <span class="math inline">\(f(x,y)\)</span> es una función con dos argumentos</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">f</span>(.,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>es equivalente a</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">f</span>(x,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<ul>
<li>Particularmente útil cuando queremos encadenar varias funciones. <!-- - Aplicamos transformaciones paso a paso, en orden de lectura. --></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Veremos cómo usarlo a lo largo de la clase.</li>
</ul>
<aside class="notes">
<p>veremos ejemplos pero antes introduzcamos algunas funciones mas.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section></section>
<section>
<section id="paquete-dplyr" class="title-slide slide level1 center">
<h1>Paquete Dplyr</h1>
<p>Útil para manipular y transformar datos</p>
<aside class="notes">
<p>veamos algunas de las funciones mas importantes de Dplyr.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="glimpse" class="slide level2">
<h2><code>glimpse()</code></h2>
<p>Permite ver la estructura de la tabla. Nos muestra:</p>
<ul>
<li>número de filas</li>
<li>número de columnas</li>
<li>nombre de las columnas</li>
<li>tipo de dato de cada columna</li>
<li>las primeras observaciones de cada columna</li>
</ul>
</section>
<section id="glimpse-ejemplo" class="slide level2 smaller">
<h2><code>glimpse()</code>: ejemplo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">glimpse</span>(Datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 9
Columns: 3
$ FECHA  &lt;chr&gt; "Mar-20", "Mar-20", "Mar-20", "Abr-20", "Abr-20", "Abr-20", "Ma…
$ GRUPO  &lt;chr&gt; "Privado_Registrado", "Público", "Privado_No_Registrado", "Priv…
$ INDICE &lt;dbl&gt; 286.4, 262.1, 248.5, 285.7, 263.5, 250.2, 285.1, 264.9, 249.0</code></pre>
</div>
</div>
<aside class="notes">
<p>Me muestra:</p>
<ul>
<li><p>número de filas</p></li>
<li><p>número de columnas</p></li>
<li><p>nombre de las columnas</p></li>
<li><p>tipo de dato de cada columna</p></li>
<li><p>las primeras observaciones de cada columna</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="glimpse-con-pipe" class="slide level2 smaller">
<h2><code>glimpse()</code> con <strong>pipe</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 9
Columns: 3
$ FECHA  &lt;chr&gt; "Mar-20", "Mar-20", "Mar-20", "Abr-20", "Abr-20", "Abr-20", "Ma…
$ GRUPO  &lt;chr&gt; "Privado_Registrado", "Público", "Privado_No_Registrado", "Priv…
$ INDICE &lt;dbl&gt; 286.4, 262.1, 248.5, 285.7, 263.5, 250.2, 285.1, 264.9, 249.0</code></pre>
</div>
</div>
<aside class="notes">
<p>ahora escribimos solo “glimpse()” porque el pipe le indica que en el argumento va Datos.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="filter" class="slide level2 smaller">
<h2><code>filter()</code></h2>
<p>Queremos filtrar las observaciones (filas) de <code>Datos</code> correspondientes a <strong>abril de 2020</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>Datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   FECHA                 GRUPO INDICE
1 Mar-20    Privado_Registrado  286.4
2 Mar-20               Público  262.1
3 Mar-20 Privado_No_Registrado  248.5
4 Abr-20    Privado_Registrado  285.7
5 Abr-20               Público  263.5
6 Abr-20 Privado_No_Registrado  250.2
7 May-20    Privado_Registrado  285.1
8 May-20               Público  264.9
9 May-20 Privado_No_Registrado  249.0</code></pre>
</div>
</div>
<!-- ## Filtrar con paquete base -->
<!-- ```{r} -->
<!-- Datos[Datos$FECHA == "Abr-20", ] -->
<!-- ``` -->
<!-- . . . -->
<!-- Ahora veremos cómo hacerlo con la función `filter` de **dplyr**. -->
</section>
<section id="filter-1" class="slide level2">
<h2><code>filter()</code></h2>
<p>Con paquete base</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>Datos[Datos<span class="sc">$</span>FECHA <span class="sc">==</span> <span class="st">"Abr-20"</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p><br></p>
<p>Con tidyverse</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">filter</span>(Datos, FECHA <span class="sc">==</span> <span class="st">"Abr-20"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   FECHA                 GRUPO INDICE
1 Abr-20    Privado_Registrado  285.7
2 Abr-20               Público  263.5
3 Abr-20 Privado_No_Registrado  250.2</code></pre>
</div>
</div>
<aside class="notes">
<p>Notemos que la sitaxis es mas limpia con tidyverse (no hay que escribir por ejemplo Datos$FECHA).</p>
<p>filter tiene dos argumentos, el primero es el conjunto de datos y el segundo la condicion por la que queremos filtrar.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div class="fragment">
<ul>
<li>Escribimos “==” y no “=” porque tenemos una <strong>condición lógica</strong>.</li>
</ul>
<aside class="notes">
<p>Veamos como usar filter con el pipe.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="filter-con-pipe" class="slide level2">
<h2><code>filter()</code> con pipe</h2>
<p>Sin <strong>pipe</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">filter</span>(Datos, FECHA <span class="sc">==</span> <span class="st">"Abr-20"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Con <strong>pipe</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">filter</span>(FECHA <span class="sc">==</span> <span class="st">"Abr-20"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   FECHA                 GRUPO INDICE
1 Abr-20    Privado_Registrado  285.7
2 Abr-20               Público  263.5
3 Abr-20 Privado_No_Registrado  250.2</code></pre>
</div>
</div>
<aside class="notes">
<p>ahora no le especificamos el primer argumento porque al usar el pipe sabe que es el objeto de la izquierda.</p>
<p>El pipe es particularmente util cuando queremos componer o encadenar varias funciones, como veremos mas adelante.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="filter-con-varias-condiciones" class="slide level2 smaller">
<h2><code>filter()</code> con varias condiciones</h2>
<aside class="notes">
<p>podemos filtrar las filas por más de una condición.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>Queremos filtramos las filas con</p>
<p><code>INDICE &gt; 250</code> y <code>GRUPO = "Privado_Registrado"</code></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">filter</span>(INDICE <span class="sc">&gt;</span> <span class="dv">250</span>, GRUPO <span class="sc">==</span> <span class="st">"Privado_Registrado"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   FECHA              GRUPO INDICE
1 Mar-20 Privado_Registrado  286.4
2 Abr-20 Privado_Registrado  285.7
3 May-20 Privado_Registrado  285.1</code></pre>
</div>
</div>
<aside class="notes">
<p>separar las condiciones con una (coma) equivale a pedir que se cumplan ambas</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="filter-con-varias-condiciones-1" class="slide level2 smaller">
<h2><code>filter()</code> con varias condiciones</h2>
<p>Queremos filtramos las filas con</p>
<p><code>INDICE &gt; 250</code> <strong>ó</strong> <code>GRUPO = "Privado_Registrado"</code></p>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="fu">filter</span>(INDICE <span class="sc">&gt;</span> <span class="dv">250</span> <span class="sc">|</span> GRUPO <span class="sc">==</span> <span class="st">"Privado_Registrado"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   FECHA                 GRUPO INDICE
1 Mar-20    Privado_Registrado  286.4
2 Mar-20               Público  262.1
3 Abr-20    Privado_Registrado  285.7
4 Abr-20               Público  263.5
5 Abr-20 Privado_No_Registrado  250.2
6 May-20    Privado_Registrado  285.1
7 May-20               Público  264.9</code></pre>
</div>
</div>
<aside class="notes">
<p>En caso de desear que se cumpla una sola condición debe utilizarse el caracter <code>|</code> (una condición “o” la otra).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="rename" class="slide level2">
<h2><code>rename()</code></h2>
<ul>
<li><p>Renombra una columna de la tabla.</p></li>
<li><p>Sintaxis:</p></li>
</ul>
<p><code>Data %&gt;% rename(nuevo_nombre = viejo_nombre)</code></p>
<div class="fragment">
<ul>
<li>Ejemplo:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="fu">rename</span>(<span class="at">Periodo =</span> FECHA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE
1  Mar-20    Privado_Registrado  286.4
2  Mar-20               Público  262.1
3  Mar-20 Privado_No_Registrado  248.5
4  Abr-20    Privado_Registrado  285.7
5  Abr-20               Público  263.5
6  Abr-20 Privado_No_Registrado  250.2
7  May-20    Privado_Registrado  285.1
8  May-20               Público  264.9
9  May-20 Privado_No_Registrado  249.0</code></pre>
</div>
</div>
<aside class="notes">
<p>Obs: en <strong>filter</strong> utilizábamos <strong>==</strong> para comprobar una condición lógica</p>
<p>aca utilizamos un <strong>=</strong> ya que lo estamos haciendo es asignar un nombre.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="rename-1" class="slide level2">
<h2><code>rename()</code></h2>
<p>Si quiero que el cambio quede guardado en <code>Datos</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>Datos <span class="ot">&lt;-</span> Datos <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="fu">rename</span>(<span class="at">Periodo =</span> FECHA)</span>
<span id="cb25-3"><a href="#cb25-3"></a>Datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE
1  Mar-20    Privado_Registrado  286.4
2  Mar-20               Público  262.1
3  Mar-20 Privado_No_Registrado  248.5
4  Abr-20    Privado_Registrado  285.7
5  Abr-20               Público  263.5
6  Abr-20 Privado_No_Registrado  250.2
7  May-20    Privado_Registrado  285.1
8  May-20               Público  264.9
9  May-20 Privado_No_Registrado  249.0</code></pre>
</div>
</div>
</section>
<section id="mutate" class="slide level2">
<h2><code>mutate()</code></h2>
<ul>
<li><p>Crea <strong>nuevas variables</strong> a partir de las existentes.</p></li>
<li><p>Ejemplo</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>Datos2 <span class="ot">&lt;-</span> Datos <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">mutate</span>(<span class="at">Doble =</span> INDICE <span class="sc">*</span> <span class="dv">2</span>)</span>
<span id="cb27-3"><a href="#cb27-3"></a>Datos2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE Doble
1  Mar-20    Privado_Registrado  286.4 572.8
2  Mar-20               Público  262.1 524.2
3  Mar-20 Privado_No_Registrado  248.5 497.0
4  Abr-20    Privado_Registrado  285.7 571.4
5  Abr-20               Público  263.5 527.0
6  Abr-20 Privado_No_Registrado  250.2 500.4
7  May-20    Privado_Registrado  285.1 570.2
8  May-20               Público  264.9 529.8
9  May-20 Privado_No_Registrado  249.0 498.0</code></pre>
</div>
</div>
<aside class="notes">
<p>Creamos una columna “Doble” que contiene el doble de lo que hay en indice.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="select" class="slide level2">
<h2><code>select()</code></h2>
<ul>
<li>Así como <code>filter()</code> permite seleccionar determinadas filas, <code>select()</code> permite seleccionar determinadas columnas.</li>
</ul>
<div class="fragment">
<ul>
<li>Ejemplo: queremos quedarnos con las columnas <code>Periodo</code> e <code>INDICE</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>Datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE
1  Mar-20    Privado_Registrado  286.4
2  Mar-20               Público  262.1
3  Mar-20 Privado_No_Registrado  248.5
4  Abr-20    Privado_Registrado  285.7
5  Abr-20               Público  263.5
6  Abr-20 Privado_No_Registrado  250.2
7  May-20    Privado_Registrado  285.1
8  May-20               Público  264.9
9  May-20 Privado_No_Registrado  249.0</code></pre>
</div>
</div>
</div>
</section>
<section id="select-ejemplo" class="slide level2">
<h2><code>select()</code>: ejemplo</h2>
<p>Queremos quedarnos con las columnas <code>Periodo</code> e <code>INDICE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">select</span>(Periodo, INDICE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo INDICE
1  Mar-20  286.4
2  Mar-20  262.1
3  Mar-20  248.5
4  Abr-20  285.7
5  Abr-20  263.5
6  Abr-20  250.2
7  May-20  285.1
8  May-20  264.9
9  May-20  249.0</code></pre>
</div>
</div>
</section>
<section id="select-ejemplo-1" class="slide level2">
<h2><code>select()</code>: ejemplo</h2>
<p>Otra forma de quedarnos con las columnas <code>Periodo</code> e <code>INDICE</code> es “tirar” la columna GRUPO.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="fu">select</span>(<span class="sc">-</span>GRUPO)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo INDICE
1  Mar-20  286.4
2  Mar-20  262.1
3  Mar-20  248.5
4  Abr-20  285.7
5  Abr-20  263.5
6  Abr-20  250.2
7  May-20  285.1
8  May-20  264.9
9  May-20  249.0</code></pre>
</div>
</div>
</section>
<section id="case_when" class="slide level2">
<h2><code>case_when()</code></h2>
<ul>
<li>Sirve para recodificar una variable según ciertas <strong>condiciones lógicas</strong>.</li>
</ul>
<!-- - Es como un if ... else, if ... else pero más ordenado y legible. -->
<div class="fragment">
<ul>
<li><p>Por ejemplo, es útil para categorizar una variable numérica.</p></li>
<li><p>Se suele combinar con <code>mutate()</code>.</p></li>
</ul>
<aside class="notes">
<p>como veremos en el siguiente ejemplo</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div class="fragment">
<ul>
<li>veamos cuál es la lógica de su <strong>sintaxis</strong>.</li>
</ul>
</div>
</section>
<section id="case_when-sintaxis" class="slide level2 smaller">
<h2><code>case_when()</code>: sintaxis</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">case_when</span>(</span>
<span id="cb35-2"><a href="#cb35-2"></a>  condición_1 <span class="sc">~</span> valor_1,</span>
<span id="cb35-3"><a href="#cb35-3"></a>  condición_2 <span class="sc">~</span> valor_2,</span>
<span id="cb35-4"><a href="#cb35-4"></a>  ...</span>
<span id="cb35-5"><a href="#cb35-5"></a>  <span class="cn">TRUE</span>        <span class="sc">~</span> valor_por_defecto</span>
<span id="cb35-6"><a href="#cb35-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Idea: crea una nueva variable que toma los valores que estan a la derecha del <code>~</code>, según cuál de las condiciones de la izquierda se cumpla.</p>
<div class="fragment">
<p>Formalmente…</p>
<ul>
<li>Se leen las condiciones <strong>de arriba hacia abajo</strong>.</li>
<li>La <strong>primera condición verdadera</strong> determina el valor asignado.</li>
<li>Se puede agregar una última condición <code>TRUE</code> para asignar un <strong>valor por defecto</strong> a la variable en el caso en que no se cumpla ninguna de las condiciones anteriores.</li>
</ul>
<aside class="notes">
<p>Veamos un ejemplo para entenderlo.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="case_when-ejemplo" class="slide level2">
<h2><code>case_when()</code>: ejemplo</h2>
<p>Queremos crear una variable <code>indice_cat</code> que valga:</p>
<ul>
<li><strong>Bajo</strong> si INDICE &lt; 250</li>
<li><strong>Medio</strong> si 250&lt;= INDICE &lt; 270</li>
<li><strong>Alto</strong> si INDICE &gt;= 270.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>Datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE
1  Mar-20    Privado_Registrado  286.4
2  Mar-20               Público  262.1
3  Mar-20 Privado_No_Registrado  248.5
4  Abr-20    Privado_Registrado  285.7
5  Abr-20               Público  263.5
6  Abr-20 Privado_No_Registrado  250.2
7  May-20    Privado_Registrado  285.1
8  May-20               Público  264.9
9  May-20 Privado_No_Registrado  249.0</code></pre>
</div>
</div>
</section>
<section id="case_when-ejemplo-1" class="slide level2">
<h2><code>case_when()</code>: ejemplo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>Datos <span class="ot">&lt;-</span> Datos <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2"></a>  <span class="fu">mutate</span>(<span class="at">indice_cat =</span> <span class="fu">case_when</span>(</span>
<span id="cb38-3"><a href="#cb38-3"></a>    INDICE <span class="sc">&lt;</span> <span class="dv">250</span> <span class="sc">~</span> <span class="st">"Bajo"</span>,</span>
<span id="cb38-4"><a href="#cb38-4"></a>    INDICE <span class="sc">&lt;</span> <span class="dv">270</span> <span class="sc">~</span> <span class="st">"Medio"</span>,</span>
<span id="cb38-5"><a href="#cb38-5"></a>    <span class="cn">TRUE</span>         <span class="sc">~</span> <span class="st">"Alto"</span></span>
<span id="cb38-6"><a href="#cb38-6"></a>    ))</span>
<span id="cb38-7"><a href="#cb38-7"></a>Datos <span class="sc">%&gt;%</span> <span class="fu">select</span>(INDICE, indice_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  INDICE indice_cat
1  286.4       Alto
2  262.1      Medio
3  248.5       Bajo
4  285.7       Alto
5  263.5      Medio
6  250.2      Medio
7  285.1       Alto
8  264.9      Medio
9  249.0       Bajo</code></pre>
</div>
</div>
<p>Se evalúan las condiciones en orden y se asigna el valor correspondiente a la primera condición verdadera.</p>
<aside class="notes">
<p>En este caso, TRUE ~ “Alto” es el caso por defecto.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<!-- ## `case_when()`: sintaxis -->
<!-- ``` r -->
<!-- case_when( -->
<!--   condición_1 ~ valor_1, -->
<!--   condición_2 ~ valor_2, -->
<!--   ... -->
<!--   TRUE        ~ valor_por_defecto -->
<!-- ) -->
<!-- ``` -->
<!-- -   Se leen las condiciones **de arriba hacia abajo**. -->
<!-- -   La **primera condición verdadera** determina el valor asignado. -->
<!-- -   Las condiciones deben ser lógicas (devuelven TRUE/FALSE) -->
<!-- -   El caso `TRUE ~ ...` es opcional pero recomendable como "else". -->
<!-- ::: notes -->
<!-- Podés usar tantas condiciones como quieras. -->
<!-- ::: -->
</section>
<section id="case_when-ejemplo-sin-true" class="slide level2">
<h2><code>case_when()</code>: ejemplo sin <code>TRUE</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>Datos <span class="ot">&lt;-</span> Datos <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2"></a>  <span class="fu">mutate</span>(<span class="at">indice_cat =</span> <span class="fu">case_when</span>(</span>
<span id="cb40-3"><a href="#cb40-3"></a>    INDICE <span class="sc">&lt;</span> <span class="dv">250</span> <span class="sc">~</span> <span class="st">"Bajo"</span>,</span>
<span id="cb40-4"><a href="#cb40-4"></a>    INDICE <span class="sc">&lt;</span> <span class="dv">270</span> <span class="sc">~</span> <span class="st">"Medio"</span></span>
<span id="cb40-5"><a href="#cb40-5"></a>    ))</span>
<span id="cb40-6"><a href="#cb40-6"></a>Datos <span class="sc">%&gt;%</span> <span class="fu">select</span>(INDICE, indice_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  INDICE indice_cat
1  286.4       &lt;NA&gt;
2  262.1      Medio
3  248.5       Bajo
4  285.7       &lt;NA&gt;
5  263.5      Medio
6  250.2      Medio
7  285.1       &lt;NA&gt;
8  264.9      Medio
9  249.0       Bajo</code></pre>
</div>
</div>
</section>
<section id="eliminamos-indice_cat" class="slide level2">
<h2>Eliminamos <code>indice_cat</code></h2>
<p>Antes de seguir, eliminemos <code>indice_cat</code> del data set</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>Datos <span class="ot">&lt;-</span> Datos <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="fu">select</span>(<span class="sc">-</span>indice_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="arrange" class="slide level2">
<h2><code>arrange()</code></h2>
<p>Ordena una tabla según los valores de una o más variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>Datos <span class="ot">&lt;-</span> Datos <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="fu">arrange</span>(GRUPO, INDICE)</span>
<span id="cb43-3"><a href="#cb43-3"></a>Datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE
1  Mar-20 Privado_No_Registrado  248.5
2  May-20 Privado_No_Registrado  249.0
3  Abr-20 Privado_No_Registrado  250.2
4  May-20    Privado_Registrado  285.1
5  Abr-20    Privado_Registrado  285.7
6  Mar-20    Privado_Registrado  286.4
7  Mar-20               Público  262.1
8  Abr-20               Público  263.5
9  May-20               Público  264.9</code></pre>
</div>
</div>
</section>
<section id="arrange-1" class="slide level2">
<h2><code>arrange()</code></h2>
<p>Por defecto, <code>arrange()</code> ordena en forma ascendente.</p>
<p>Si queremos ordenar alguna variable en forma descendente, usamos <code>desc()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>Datos <span class="ot">&lt;-</span> Datos <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2"></a>  <span class="fu">arrange</span>(GRUPO, <span class="fu">desc</span>(INDICE))</span>
<span id="cb45-3"><a href="#cb45-3"></a>Datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE
1  Abr-20 Privado_No_Registrado  250.2
2  May-20 Privado_No_Registrado  249.0
3  Mar-20 Privado_No_Registrado  248.5
4  Mar-20    Privado_Registrado  286.4
5  Abr-20    Privado_Registrado  285.7
6  May-20    Privado_Registrado  285.1
7  May-20               Público  264.9
8  Abr-20               Público  263.5
9  Mar-20               Público  262.1</code></pre>
</div>
</div>
</section>
<section id="group_by-summarise" class="slide level2">
<h2><code>group_by()</code> + <code>summarise()</code></h2>
<ul>
<li>La combinación de <code>group_by()</code> y <code>summarise()</code> nos permite <strong>calcular medidas resumen por grupo</strong>.</li>
</ul>
<p>(por ejemplo, podemos obtener el promedio del <code>INDICE</code> para cada sector).</p>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<ul>
<li><p><code>group_by()</code> agrupa la tabla según una o más variables.</p></li>
<li><p><code>summarise()</code> calcula valores resumen (como promedio, suma, mínimo, etc.) dentro de cada grupo.</p></li>
</ul>
<aside class="notes">
<p>group_by solo agrupa, no modifica la tabla visible. summarise es quien calcula lo que queremos.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="promedio-del-indice-por-grupo" class="slide level2">
<h2>Promedio del <code>INDICE</code> por <code>GRUPO</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>Datos <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">group_by</span>(GRUPO) <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="fu">summarise</span>(<span class="at">promedio_indice =</span> <span class="fu">mean</span>(INDICE))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  GRUPO                 promedio_indice
  &lt;chr&gt;                           &lt;dbl&gt;
1 Privado_No_Registrado            249.
2 Privado_Registrado               286.
3 Público                          264.</code></pre>
</div>
</div>
<aside class="notes">
<p>Creamos una nueva tabla con una fila por grupo.</p>
<p>Notemos que estamos combinando dos funciones, ahora se nota que el pipe es muy util</p>
<p>Podemos calcular otras estadísticas también (mínimo, máximo, etc.).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="promedio-del-indice-por-grupo-y-periodo" class="slide level2 smaller">
<h2>Promedio del <code>INDICE</code> por <code>GRUPO</code> y <code>Periodo</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>Datos <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>  <span class="fu">group_by</span>(Periodo, GRUPO) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="fu">summarise</span>(<span class="at">promedio_indice =</span> <span class="fu">mean</span>(INDICE))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
# Groups:   Periodo [3]
  Periodo GRUPO                 promedio_indice
  &lt;chr&gt;   &lt;chr&gt;                           &lt;dbl&gt;
1 Abr-20  Privado_No_Registrado            250.
2 Abr-20  Privado_Registrado               286.
3 Abr-20  Público                          264.
4 Mar-20  Privado_No_Registrado            248.
5 Mar-20  Privado_Registrado               286.
6 Mar-20  Público                          262.
7 May-20  Privado_No_Registrado            249 
8 May-20  Privado_Registrado               285.
9 May-20  Público                          265.</code></pre>
</div>
</div>
<aside class="notes">
<p>Ahora agrupamos por <strong>dos variables</strong>: primero por <code>período</code>, y dentro de cada <code>período</code> por <code>GRUPO</code>. Esto nos da un promedio por grupo <strong>en cada <code>período</code></strong>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="múltiples-estadísticas-por-grupo" class="slide level2 smaller">
<h2>Múltiples estadísticas por grupo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>Datos <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">group_by</span>(GRUPO) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3"></a>  <span class="fu">summarise</span>(</span>
<span id="cb51-4"><a href="#cb51-4"></a>    <span class="at">promedio =</span> <span class="fu">mean</span>(INDICE),</span>
<span id="cb51-5"><a href="#cb51-5"></a>    <span class="at">minimo   =</span> <span class="fu">min</span>(INDICE),</span>
<span id="cb51-6"><a href="#cb51-6"></a>    <span class="at">maximo   =</span> <span class="fu">max</span>(INDICE),</span>
<span id="cb51-7"><a href="#cb51-7"></a>    <span class="at">desv     =</span> <span class="fu">sd</span>(INDICE)</span>
<span id="cb51-8"><a href="#cb51-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  GRUPO                 promedio minimo maximo  desv
  &lt;chr&gt;                    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1 Privado_No_Registrado     249.   248.   250. 0.874
2 Privado_Registrado        286.   285.   286. 0.651
3 Público                   264.   262.   265. 1.40 </code></pre>
</div>
</div>
<aside class="notes">
<p>tambien podemos calcular varias estadísticas al mismo tiempo, cada una como una nueva columna.<br>
Ideal para informes descriptivos.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<p>Supongamos que queremos ver qué grupo tiene mayor salario medio.</p>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="ordenar-con-arrange" class="slide level2 smaller">
<h2>Ordenar con <code>arrange()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>Datos <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="#cb53-2"></a>  <span class="fu">group_by</span>(GRUPO) <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3"></a>  <span class="fu">summarise</span>(</span>
<span id="cb53-4"><a href="#cb53-4"></a>    <span class="at">promedio =</span> <span class="fu">mean</span>(INDICE),</span>
<span id="cb53-5"><a href="#cb53-5"></a>    <span class="at">minimo   =</span> <span class="fu">min</span>(INDICE),</span>
<span id="cb53-6"><a href="#cb53-6"></a>    <span class="at">maximo   =</span> <span class="fu">max</span>(INDICE),</span>
<span id="cb53-7"><a href="#cb53-7"></a>    <span class="at">desv     =</span> <span class="fu">sd</span>(INDICE)) <span class="sc">%&gt;%</span></span>
<span id="cb53-8"><a href="#cb53-8"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(promedio))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  GRUPO                 promedio minimo maximo  desv
  &lt;chr&gt;                    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1 Privado_Registrado        286.   285.   286. 0.651
2 Público                   264.   262.   265. 1.40 
3 Privado_No_Registrado     249.   248.   250. 0.874</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li><code>arrange()</code> ordena las filas según el valor de <code>promedio</code>.</li>
<li>Usamos <code>desc()</code> para ordenar de <strong>mayor a menor</strong>.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="joins" class="slide level2">
<h2>Joins</h2>
<ul>
<li><p>Otra implementación muy importante del paquete dplyr son las funciones para unir tablas (<strong>joins</strong>).</p></li>
<li><p>Veamos un ejemplo de la función <strong>left_join</strong> (una de las más utilizadas en la práctica).</p></li>
<li><p>Más tipos de joins en el apunte del github.</p></li>
</ul>
</section>
<section id="left_join" class="slide level2">
<h2><code>left_join()</code></h2>
<ul>
<li>Une dos tablas tomando como referencia una o más columnas comunes.</li>
</ul>
<div class="fragment">
<ul>
<li>Para ejemplificar su uso crearemos un data frame que contenga un <strong>Ponderador</strong> para cada uno de los <strong>Grupos</strong> del data frame <code>Datos</code>.</li>
</ul>
</div>
</section>
<section id="data-frame-ponderadores" class="slide level2">
<h2>Data frame <code>Ponderadores</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>Ponderadores <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-2"><a href="#cb55-2"></a>  <span class="at">GRUPO =</span> <span class="fu">c</span>(<span class="st">"Privado_Registrado"</span>,</span>
<span id="cb55-3"><a href="#cb55-3"></a>            <span class="st">"Público"</span>,</span>
<span id="cb55-4"><a href="#cb55-4"></a>            <span class="st">"Privado_No_Registrado"</span>),</span>
<span id="cb55-5"><a href="#cb55-5"></a>  <span class="at">PONDERADOR =</span> <span class="fu">c</span>(<span class="fl">50.16</span>, <span class="fl">29.91</span>, <span class="fl">19.93</span>))</span>
<span id="cb55-6"><a href="#cb55-6"></a>Ponderadores</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  GRUPO PONDERADOR
1    Privado_Registrado      50.16
2               Público      29.91
3 Privado_No_Registrado      19.93</code></pre>
</div>
</div>
<aside class="notes">
<p>creamos un dataframe con la columna GRUPO igual al dataset original mas una columna de ponderadores que se va a usar para ponderar las observaciones de cada grupo.</p>
<p>En la practica, estos datasets los tenemos como bases de datos y los importamos a R.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<!-- ## `left_join()`: ejemplo {.smaller} -->
<!-- ```{r} -->
<!-- Datos_join <- left_join(Datos, Ponderadores, by = "GRUPO") -->
<!-- Datos_join -->
<!-- ``` -->
<!-- ::: notes -->
<!-- En este caso, la función left_join() agrega al data frame Datos una nueva columna con los valores de PONDERADOR tomados del data frame Ponderadores, emparejando o mergeando según el nombre del grupo (GRUPO). -->
<!-- ::: -->
</section>
<section id="left_join-ejemplo" class="slide level2 smaller">
<h2><code>left_join()</code>: ejemplo</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>Ponderadores</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  GRUPO PONDERADOR
1    Privado_Registrado      50.16
2               Público      29.91
3 Privado_No_Registrado      19.93</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="fu">left_join</span>(Ponderadores, <span class="at">by =</span> <span class="st">"GRUPO"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb59-3"><a href="#cb59-3"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE PONDERADOR
1  Abr-20 Privado_No_Registrado  250.2      19.93
2  May-20 Privado_No_Registrado  249.0      19.93
3  Mar-20 Privado_No_Registrado  248.5      19.93
4  Mar-20    Privado_Registrado  286.4      50.16
5  Abr-20    Privado_Registrado  285.7      50.16</code></pre>
</div>
</div>
<p><br></p>
<p>Unimos las tablas <code>Datos</code> y <code>Ponderadores</code> según la <strong>columna</strong> <code>GRUPO</code>, conservando todas las filas de la tabla de la izquierda <code>Datos</code> y agregando el valor de la columna <code>PONDERADOR</code> en aquellas filas donde los valores de <code>GRUPO</code> coinciden.</p>
</div>
</section>
<section id="left_join-generalización" class="slide level2 smaller">
<h2><code>left_join()</code>: generalización</h2>
<p><code>left_join()</code> se utiliza para <strong>unir dos tablas</strong> según una o más <strong>columnas en común</strong> (especificadas en <code>by</code>), conservando todas las filas de la tabla de la izquierda y agregando las columnas de la tabla de la derecha en aquellas filas donde los valores de las columnas especificadas en <code>by</code> coinciden.</p>
<p><br></p>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>Ponderadores</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  GRUPO PONDERADOR
1    Privado_Registrado      50.16
2               Público      29.91
3 Privado_No_Registrado      19.93</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>Datos <span class="sc">%&gt;%</span> </span>
<span id="cb63-2"><a href="#cb63-2"></a>  <span class="fu">left_join</span>(Ponderadores, <span class="at">by =</span> <span class="st">"GRUPO"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Periodo                 GRUPO INDICE PONDERADOR
1  Abr-20 Privado_No_Registrado  250.2      19.93
2  May-20 Privado_No_Registrado  249.0      19.93
3  Mar-20 Privado_No_Registrado  248.5      19.93
4  Mar-20    Privado_Registrado  286.4      50.16
5  Abr-20    Privado_Registrado  285.7      50.16
6  May-20    Privado_Registrado  285.1      50.16
7  May-20               Público  264.9      29.91
8  Abr-20               Público  263.5      29.91
9  Mar-20               Público  262.1      29.91</code></pre>
</div>
</div>
</div>
</section>
<section id="más-joins" class="slide level2">
<h2>Más Joins</h2>
<p>Para más detalle sobre joins, ver notebook opcional de distintos tipos de <a href="https://eea-uba.github.io/EEA-2021/clase%202/Clase%202.%20Distintos%20tipos%20de%20Join%20(OPCIONAL).nb.html">joins</a>.</p>
</section></section>
<section>
<section id="tidyr" class="title-slide slide level1 center">
<h1>Tidyr</h1>
<ul>
<li><p>El paquete <strong>tidyr</strong> esta pensado para “emprolijar los datos”.</p></li>
<li><p>Veremos dos funciones:</p>
<ul>
<li><code>pivot_longer</code></li>
<li><code>pivot_wider</code></li>
</ul></li>
<li><p>Para ejemplificar su uso utilizaremos un conjunto de datos (<code>iris</code>) que viene con el paquete base.</p></li>
</ul>
</section>
<section id="iris" class="slide level2 smaller">
<h2>Iris</h2>
<div class="columns">
<div class="column" style="width:80%;">
<p>Cada observación es una flor de <em>Iris</em> con la medición del largo y ancho de su sépalo y pétalo y el tipo de especie a la cual pertenece.</p>
</div><div class="column" style="width:20%;">
<p><img data-src="images/clipboard-1459528647.png" style="width:100.0%"></p>
</div>
</div>
<!-- Cada observación es una flor de Iris con la medición del largo y ancho de su sépalo y pétalo y el tipo de especie a la cual pertenece. -->
<!-- ![](images/clipboard-1459528647.png){width="500"} -->
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>iris</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
1            5.1         3.5          1.4         0.2     setosa
2            4.9         3.0          1.4         0.2     setosa
3            4.7         3.2          1.3         0.2     setosa
4            4.6         3.1          1.5         0.2     setosa
5            5.0         3.6          1.4         0.2     setosa
6            5.4         3.9          1.7         0.4     setosa
7            4.6         3.4          1.4         0.3     setosa
8            5.0         3.4          1.5         0.2     setosa
9            4.4         2.9          1.4         0.2     setosa
10           4.9         3.1          1.5         0.1     setosa
11           5.4         3.7          1.5         0.2     setosa
12           4.8         3.4          1.6         0.2     setosa
13           4.8         3.0          1.4         0.1     setosa
14           4.3         3.0          1.1         0.1     setosa
15           5.8         4.0          1.2         0.2     setosa
16           5.7         4.4          1.5         0.4     setosa
17           5.4         3.9          1.3         0.4     setosa
18           5.1         3.5          1.4         0.3     setosa
19           5.7         3.8          1.7         0.3     setosa
20           5.1         3.8          1.5         0.3     setosa
21           5.4         3.4          1.7         0.2     setosa
22           5.1         3.7          1.5         0.4     setosa
23           4.6         3.6          1.0         0.2     setosa
24           5.1         3.3          1.7         0.5     setosa
25           4.8         3.4          1.9         0.2     setosa
26           5.0         3.0          1.6         0.2     setosa
27           5.0         3.4          1.6         0.4     setosa
28           5.2         3.5          1.5         0.2     setosa
29           5.2         3.4          1.4         0.2     setosa
30           4.7         3.2          1.6         0.2     setosa
31           4.8         3.1          1.6         0.2     setosa
32           5.4         3.4          1.5         0.4     setosa
33           5.2         4.1          1.5         0.1     setosa
34           5.5         4.2          1.4         0.2     setosa
35           4.9         3.1          1.5         0.2     setosa
36           5.0         3.2          1.2         0.2     setosa
37           5.5         3.5          1.3         0.2     setosa
38           4.9         3.6          1.4         0.1     setosa
39           4.4         3.0          1.3         0.2     setosa
40           5.1         3.4          1.5         0.2     setosa
41           5.0         3.5          1.3         0.3     setosa
42           4.5         2.3          1.3         0.3     setosa
43           4.4         3.2          1.3         0.2     setosa
44           5.0         3.5          1.6         0.6     setosa
45           5.1         3.8          1.9         0.4     setosa
46           4.8         3.0          1.4         0.3     setosa
47           5.1         3.8          1.6         0.2     setosa
48           4.6         3.2          1.4         0.2     setosa
49           5.3         3.7          1.5         0.2     setosa
50           5.0         3.3          1.4         0.2     setosa
51           7.0         3.2          4.7         1.4 versicolor
52           6.4         3.2          4.5         1.5 versicolor
53           6.9         3.1          4.9         1.5 versicolor
54           5.5         2.3          4.0         1.3 versicolor
55           6.5         2.8          4.6         1.5 versicolor
56           5.7         2.8          4.5         1.3 versicolor
57           6.3         3.3          4.7         1.6 versicolor
58           4.9         2.4          3.3         1.0 versicolor
59           6.6         2.9          4.6         1.3 versicolor
60           5.2         2.7          3.9         1.4 versicolor
61           5.0         2.0          3.5         1.0 versicolor
62           5.9         3.0          4.2         1.5 versicolor
63           6.0         2.2          4.0         1.0 versicolor
64           6.1         2.9          4.7         1.4 versicolor
65           5.6         2.9          3.6         1.3 versicolor
66           6.7         3.1          4.4         1.4 versicolor
67           5.6         3.0          4.5         1.5 versicolor
68           5.8         2.7          4.1         1.0 versicolor
69           6.2         2.2          4.5         1.5 versicolor
70           5.6         2.5          3.9         1.1 versicolor
71           5.9         3.2          4.8         1.8 versicolor
72           6.1         2.8          4.0         1.3 versicolor
73           6.3         2.5          4.9         1.5 versicolor
74           6.1         2.8          4.7         1.2 versicolor
75           6.4         2.9          4.3         1.3 versicolor
76           6.6         3.0          4.4         1.4 versicolor
77           6.8         2.8          4.8         1.4 versicolor
78           6.7         3.0          5.0         1.7 versicolor
79           6.0         2.9          4.5         1.5 versicolor
80           5.7         2.6          3.5         1.0 versicolor
81           5.5         2.4          3.8         1.1 versicolor
82           5.5         2.4          3.7         1.0 versicolor
83           5.8         2.7          3.9         1.2 versicolor
84           6.0         2.7          5.1         1.6 versicolor
85           5.4         3.0          4.5         1.5 versicolor
86           6.0         3.4          4.5         1.6 versicolor
87           6.7         3.1          4.7         1.5 versicolor
88           6.3         2.3          4.4         1.3 versicolor
89           5.6         3.0          4.1         1.3 versicolor
90           5.5         2.5          4.0         1.3 versicolor
91           5.5         2.6          4.4         1.2 versicolor
92           6.1         3.0          4.6         1.4 versicolor
93           5.8         2.6          4.0         1.2 versicolor
94           5.0         2.3          3.3         1.0 versicolor
95           5.6         2.7          4.2         1.3 versicolor
96           5.7         3.0          4.2         1.2 versicolor
97           5.7         2.9          4.2         1.3 versicolor
98           6.2         2.9          4.3         1.3 versicolor
99           5.1         2.5          3.0         1.1 versicolor
100          5.7         2.8          4.1         1.3 versicolor
101          6.3         3.3          6.0         2.5  virginica
102          5.8         2.7          5.1         1.9  virginica
103          7.1         3.0          5.9         2.1  virginica
104          6.3         2.9          5.6         1.8  virginica
105          6.5         3.0          5.8         2.2  virginica
106          7.6         3.0          6.6         2.1  virginica
107          4.9         2.5          4.5         1.7  virginica
108          7.3         2.9          6.3         1.8  virginica
109          6.7         2.5          5.8         1.8  virginica
110          7.2         3.6          6.1         2.5  virginica
111          6.5         3.2          5.1         2.0  virginica
112          6.4         2.7          5.3         1.9  virginica
113          6.8         3.0          5.5         2.1  virginica
114          5.7         2.5          5.0         2.0  virginica
115          5.8         2.8          5.1         2.4  virginica
116          6.4         3.2          5.3         2.3  virginica
117          6.5         3.0          5.5         1.8  virginica
118          7.7         3.8          6.7         2.2  virginica
119          7.7         2.6          6.9         2.3  virginica
120          6.0         2.2          5.0         1.5  virginica
121          6.9         3.2          5.7         2.3  virginica
122          5.6         2.8          4.9         2.0  virginica
123          7.7         2.8          6.7         2.0  virginica
124          6.3         2.7          4.9         1.8  virginica
125          6.7         3.3          5.7         2.1  virginica
126          7.2         3.2          6.0         1.8  virginica
127          6.2         2.8          4.8         1.8  virginica
128          6.1         3.0          4.9         1.8  virginica
129          6.4         2.8          5.6         2.1  virginica
130          7.2         3.0          5.8         1.6  virginica
131          7.4         2.8          6.1         1.9  virginica
132          7.9         3.8          6.4         2.0  virginica
133          6.4         2.8          5.6         2.2  virginica
134          6.3         2.8          5.1         1.5  virginica
135          6.1         2.6          5.6         1.4  virginica
136          7.7         3.0          6.1         2.3  virginica
137          6.3         3.4          5.6         2.4  virginica
138          6.4         3.1          5.5         1.8  virginica
139          6.0         3.0          4.8         1.8  virginica
140          6.9         3.1          5.4         2.1  virginica
141          6.7         3.1          5.6         2.4  virginica
142          6.9         3.1          5.1         2.3  virginica
143          5.8         2.7          5.1         1.9  virginica
144          6.8         3.2          5.9         2.3  virginica
145          6.7         3.3          5.7         2.5  virginica
146          6.7         3.0          5.2         2.3  virginica
147          6.3         2.5          5.0         1.9  virginica
148          6.5         3.0          5.2         2.0  virginica
149          6.2         3.4          5.4         2.3  virginica
150          5.9         3.0          5.1         1.8  virginica</code></pre>
</div>
</div>
</section>
<section id="iris-1" class="slide level2 smaller">
<h2>Iris</h2>
<p>Agregamos una columna que tenga el ID de cada flor y la acomodamos para que quede al principio.</p>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>iris <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href="#cb67-2"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.)) <span class="sc">%&gt;%</span> <span class="co"># se agrega un ID</span></span>
<span id="cb67-3"><a href="#cb67-3"></a>  <span class="fu">select</span>(id, <span class="fu">everything</span>()) <span class="co"># se acomoda para que el id este primero. </span></span>
<span id="cb67-4"><a href="#cb67-4"></a>iris</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
1     1          5.1         3.5          1.4         0.2     setosa
2     2          4.9         3.0          1.4         0.2     setosa
3     3          4.7         3.2          1.3         0.2     setosa
4     4          4.6         3.1          1.5         0.2     setosa
5     5          5.0         3.6          1.4         0.2     setosa
6     6          5.4         3.9          1.7         0.4     setosa
7     7          4.6         3.4          1.4         0.3     setosa
8     8          5.0         3.4          1.5         0.2     setosa
9     9          4.4         2.9          1.4         0.2     setosa
10   10          4.9         3.1          1.5         0.1     setosa
11   11          5.4         3.7          1.5         0.2     setosa
12   12          4.8         3.4          1.6         0.2     setosa
13   13          4.8         3.0          1.4         0.1     setosa
14   14          4.3         3.0          1.1         0.1     setosa
15   15          5.8         4.0          1.2         0.2     setosa
16   16          5.7         4.4          1.5         0.4     setosa
17   17          5.4         3.9          1.3         0.4     setosa
18   18          5.1         3.5          1.4         0.3     setosa
19   19          5.7         3.8          1.7         0.3     setosa
20   20          5.1         3.8          1.5         0.3     setosa
21   21          5.4         3.4          1.7         0.2     setosa
22   22          5.1         3.7          1.5         0.4     setosa
23   23          4.6         3.6          1.0         0.2     setosa
24   24          5.1         3.3          1.7         0.5     setosa
25   25          4.8         3.4          1.9         0.2     setosa
26   26          5.0         3.0          1.6         0.2     setosa
27   27          5.0         3.4          1.6         0.4     setosa
28   28          5.2         3.5          1.5         0.2     setosa
29   29          5.2         3.4          1.4         0.2     setosa
30   30          4.7         3.2          1.6         0.2     setosa
31   31          4.8         3.1          1.6         0.2     setosa
32   32          5.4         3.4          1.5         0.4     setosa
33   33          5.2         4.1          1.5         0.1     setosa
34   34          5.5         4.2          1.4         0.2     setosa
35   35          4.9         3.1          1.5         0.2     setosa
36   36          5.0         3.2          1.2         0.2     setosa
37   37          5.5         3.5          1.3         0.2     setosa
38   38          4.9         3.6          1.4         0.1     setosa
39   39          4.4         3.0          1.3         0.2     setosa
40   40          5.1         3.4          1.5         0.2     setosa
41   41          5.0         3.5          1.3         0.3     setosa
42   42          4.5         2.3          1.3         0.3     setosa
43   43          4.4         3.2          1.3         0.2     setosa
44   44          5.0         3.5          1.6         0.6     setosa
45   45          5.1         3.8          1.9         0.4     setosa
46   46          4.8         3.0          1.4         0.3     setosa
47   47          5.1         3.8          1.6         0.2     setosa
48   48          4.6         3.2          1.4         0.2     setosa
49   49          5.3         3.7          1.5         0.2     setosa
50   50          5.0         3.3          1.4         0.2     setosa
51   51          7.0         3.2          4.7         1.4 versicolor
52   52          6.4         3.2          4.5         1.5 versicolor
53   53          6.9         3.1          4.9         1.5 versicolor
54   54          5.5         2.3          4.0         1.3 versicolor
55   55          6.5         2.8          4.6         1.5 versicolor
56   56          5.7         2.8          4.5         1.3 versicolor
57   57          6.3         3.3          4.7         1.6 versicolor
58   58          4.9         2.4          3.3         1.0 versicolor
59   59          6.6         2.9          4.6         1.3 versicolor
60   60          5.2         2.7          3.9         1.4 versicolor
61   61          5.0         2.0          3.5         1.0 versicolor
62   62          5.9         3.0          4.2         1.5 versicolor
63   63          6.0         2.2          4.0         1.0 versicolor
64   64          6.1         2.9          4.7         1.4 versicolor
65   65          5.6         2.9          3.6         1.3 versicolor
66   66          6.7         3.1          4.4         1.4 versicolor
67   67          5.6         3.0          4.5         1.5 versicolor
68   68          5.8         2.7          4.1         1.0 versicolor
69   69          6.2         2.2          4.5         1.5 versicolor
70   70          5.6         2.5          3.9         1.1 versicolor
71   71          5.9         3.2          4.8         1.8 versicolor
72   72          6.1         2.8          4.0         1.3 versicolor
73   73          6.3         2.5          4.9         1.5 versicolor
74   74          6.1         2.8          4.7         1.2 versicolor
75   75          6.4         2.9          4.3         1.3 versicolor
76   76          6.6         3.0          4.4         1.4 versicolor
77   77          6.8         2.8          4.8         1.4 versicolor
78   78          6.7         3.0          5.0         1.7 versicolor
79   79          6.0         2.9          4.5         1.5 versicolor
80   80          5.7         2.6          3.5         1.0 versicolor
81   81          5.5         2.4          3.8         1.1 versicolor
82   82          5.5         2.4          3.7         1.0 versicolor
83   83          5.8         2.7          3.9         1.2 versicolor
84   84          6.0         2.7          5.1         1.6 versicolor
85   85          5.4         3.0          4.5         1.5 versicolor
86   86          6.0         3.4          4.5         1.6 versicolor
87   87          6.7         3.1          4.7         1.5 versicolor
88   88          6.3         2.3          4.4         1.3 versicolor
89   89          5.6         3.0          4.1         1.3 versicolor
90   90          5.5         2.5          4.0         1.3 versicolor
91   91          5.5         2.6          4.4         1.2 versicolor
92   92          6.1         3.0          4.6         1.4 versicolor
93   93          5.8         2.6          4.0         1.2 versicolor
94   94          5.0         2.3          3.3         1.0 versicolor
95   95          5.6         2.7          4.2         1.3 versicolor
96   96          5.7         3.0          4.2         1.2 versicolor
97   97          5.7         2.9          4.2         1.3 versicolor
98   98          6.2         2.9          4.3         1.3 versicolor
99   99          5.1         2.5          3.0         1.1 versicolor
100 100          5.7         2.8          4.1         1.3 versicolor
101 101          6.3         3.3          6.0         2.5  virginica
102 102          5.8         2.7          5.1         1.9  virginica
103 103          7.1         3.0          5.9         2.1  virginica
104 104          6.3         2.9          5.6         1.8  virginica
105 105          6.5         3.0          5.8         2.2  virginica
106 106          7.6         3.0          6.6         2.1  virginica
107 107          4.9         2.5          4.5         1.7  virginica
108 108          7.3         2.9          6.3         1.8  virginica
109 109          6.7         2.5          5.8         1.8  virginica
110 110          7.2         3.6          6.1         2.5  virginica
111 111          6.5         3.2          5.1         2.0  virginica
112 112          6.4         2.7          5.3         1.9  virginica
113 113          6.8         3.0          5.5         2.1  virginica
114 114          5.7         2.5          5.0         2.0  virginica
115 115          5.8         2.8          5.1         2.4  virginica
116 116          6.4         3.2          5.3         2.3  virginica
117 117          6.5         3.0          5.5         1.8  virginica
118 118          7.7         3.8          6.7         2.2  virginica
119 119          7.7         2.6          6.9         2.3  virginica
120 120          6.0         2.2          5.0         1.5  virginica
121 121          6.9         3.2          5.7         2.3  virginica
122 122          5.6         2.8          4.9         2.0  virginica
123 123          7.7         2.8          6.7         2.0  virginica
124 124          6.3         2.7          4.9         1.8  virginica
125 125          6.7         3.3          5.7         2.1  virginica
126 126          7.2         3.2          6.0         1.8  virginica
127 127          6.2         2.8          4.8         1.8  virginica
128 128          6.1         3.0          4.9         1.8  virginica
129 129          6.4         2.8          5.6         2.1  virginica
130 130          7.2         3.0          5.8         1.6  virginica
131 131          7.4         2.8          6.1         1.9  virginica
132 132          7.9         3.8          6.4         2.0  virginica
133 133          6.4         2.8          5.6         2.2  virginica
134 134          6.3         2.8          5.1         1.5  virginica
135 135          6.1         2.6          5.6         1.4  virginica
136 136          7.7         3.0          6.1         2.3  virginica
137 137          6.3         3.4          5.6         2.4  virginica
138 138          6.4         3.1          5.5         1.8  virginica
139 139          6.0         3.0          4.8         1.8  virginica
140 140          6.9         3.1          5.4         2.1  virginica
141 141          6.7         3.1          5.6         2.4  virginica
142 142          6.9         3.1          5.1         2.3  virginica
143 143          5.8         2.7          5.1         1.9  virginica
144 144          6.8         3.2          5.9         2.3  virginica
145 145          6.7         3.3          5.7         2.5  virginica
146 146          6.7         3.0          5.2         2.3  virginica
147 147          6.3         2.5          5.0         1.9  virginica
148 148          6.5         3.0          5.2         2.0  virginica
149 149          6.2         3.4          5.4         2.3  virginica
150 150          5.9         3.0          5.1         1.8  virginica</code></pre>
</div>
</div>
</div>
<aside class="notes">
<p>Necesitamos hacer esto para que luego el archivo que vamos a crear con la funcion pivot_longer sea mas legible.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="iris-2" class="slide level2 smaller">
<h2>Iris</h2>
<p>Queremos un dataset en el cual cada observación sea la medición de cada uno de los 4 atributos de cada flor.</p>
<p>Es decir, queremos una fila por cada flor y cada tipo de medición y una variable que indique el valor de esa medición.</p>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>iris</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
1     1          5.1         3.5          1.4         0.2     setosa
2     2          4.9         3.0          1.4         0.2     setosa
3     3          4.7         3.2          1.3         0.2     setosa
4     4          4.6         3.1          1.5         0.2     setosa
5     5          5.0         3.6          1.4         0.2     setosa
6     6          5.4         3.9          1.7         0.4     setosa
7     7          4.6         3.4          1.4         0.3     setosa
8     8          5.0         3.4          1.5         0.2     setosa
9     9          4.4         2.9          1.4         0.2     setosa
10   10          4.9         3.1          1.5         0.1     setosa
11   11          5.4         3.7          1.5         0.2     setosa
12   12          4.8         3.4          1.6         0.2     setosa
13   13          4.8         3.0          1.4         0.1     setosa
14   14          4.3         3.0          1.1         0.1     setosa
15   15          5.8         4.0          1.2         0.2     setosa
16   16          5.7         4.4          1.5         0.4     setosa
17   17          5.4         3.9          1.3         0.4     setosa
18   18          5.1         3.5          1.4         0.3     setosa
19   19          5.7         3.8          1.7         0.3     setosa
20   20          5.1         3.8          1.5         0.3     setosa
21   21          5.4         3.4          1.7         0.2     setosa
22   22          5.1         3.7          1.5         0.4     setosa
23   23          4.6         3.6          1.0         0.2     setosa
24   24          5.1         3.3          1.7         0.5     setosa
25   25          4.8         3.4          1.9         0.2     setosa
26   26          5.0         3.0          1.6         0.2     setosa
27   27          5.0         3.4          1.6         0.4     setosa
28   28          5.2         3.5          1.5         0.2     setosa
29   29          5.2         3.4          1.4         0.2     setosa
30   30          4.7         3.2          1.6         0.2     setosa
31   31          4.8         3.1          1.6         0.2     setosa
32   32          5.4         3.4          1.5         0.4     setosa
33   33          5.2         4.1          1.5         0.1     setosa
34   34          5.5         4.2          1.4         0.2     setosa
35   35          4.9         3.1          1.5         0.2     setosa
36   36          5.0         3.2          1.2         0.2     setosa
37   37          5.5         3.5          1.3         0.2     setosa
38   38          4.9         3.6          1.4         0.1     setosa
39   39          4.4         3.0          1.3         0.2     setosa
40   40          5.1         3.4          1.5         0.2     setosa
41   41          5.0         3.5          1.3         0.3     setosa
42   42          4.5         2.3          1.3         0.3     setosa
43   43          4.4         3.2          1.3         0.2     setosa
44   44          5.0         3.5          1.6         0.6     setosa
45   45          5.1         3.8          1.9         0.4     setosa
46   46          4.8         3.0          1.4         0.3     setosa
47   47          5.1         3.8          1.6         0.2     setosa
48   48          4.6         3.2          1.4         0.2     setosa
49   49          5.3         3.7          1.5         0.2     setosa
50   50          5.0         3.3          1.4         0.2     setosa
51   51          7.0         3.2          4.7         1.4 versicolor
52   52          6.4         3.2          4.5         1.5 versicolor
53   53          6.9         3.1          4.9         1.5 versicolor
54   54          5.5         2.3          4.0         1.3 versicolor
55   55          6.5         2.8          4.6         1.5 versicolor
56   56          5.7         2.8          4.5         1.3 versicolor
57   57          6.3         3.3          4.7         1.6 versicolor
58   58          4.9         2.4          3.3         1.0 versicolor
59   59          6.6         2.9          4.6         1.3 versicolor
60   60          5.2         2.7          3.9         1.4 versicolor
61   61          5.0         2.0          3.5         1.0 versicolor
62   62          5.9         3.0          4.2         1.5 versicolor
63   63          6.0         2.2          4.0         1.0 versicolor
64   64          6.1         2.9          4.7         1.4 versicolor
65   65          5.6         2.9          3.6         1.3 versicolor
66   66          6.7         3.1          4.4         1.4 versicolor
67   67          5.6         3.0          4.5         1.5 versicolor
68   68          5.8         2.7          4.1         1.0 versicolor
69   69          6.2         2.2          4.5         1.5 versicolor
70   70          5.6         2.5          3.9         1.1 versicolor
71   71          5.9         3.2          4.8         1.8 versicolor
72   72          6.1         2.8          4.0         1.3 versicolor
73   73          6.3         2.5          4.9         1.5 versicolor
74   74          6.1         2.8          4.7         1.2 versicolor
75   75          6.4         2.9          4.3         1.3 versicolor
76   76          6.6         3.0          4.4         1.4 versicolor
77   77          6.8         2.8          4.8         1.4 versicolor
78   78          6.7         3.0          5.0         1.7 versicolor
79   79          6.0         2.9          4.5         1.5 versicolor
80   80          5.7         2.6          3.5         1.0 versicolor
81   81          5.5         2.4          3.8         1.1 versicolor
82   82          5.5         2.4          3.7         1.0 versicolor
83   83          5.8         2.7          3.9         1.2 versicolor
84   84          6.0         2.7          5.1         1.6 versicolor
85   85          5.4         3.0          4.5         1.5 versicolor
86   86          6.0         3.4          4.5         1.6 versicolor
87   87          6.7         3.1          4.7         1.5 versicolor
88   88          6.3         2.3          4.4         1.3 versicolor
89   89          5.6         3.0          4.1         1.3 versicolor
90   90          5.5         2.5          4.0         1.3 versicolor
91   91          5.5         2.6          4.4         1.2 versicolor
92   92          6.1         3.0          4.6         1.4 versicolor
93   93          5.8         2.6          4.0         1.2 versicolor
94   94          5.0         2.3          3.3         1.0 versicolor
95   95          5.6         2.7          4.2         1.3 versicolor
96   96          5.7         3.0          4.2         1.2 versicolor
97   97          5.7         2.9          4.2         1.3 versicolor
98   98          6.2         2.9          4.3         1.3 versicolor
99   99          5.1         2.5          3.0         1.1 versicolor
100 100          5.7         2.8          4.1         1.3 versicolor
101 101          6.3         3.3          6.0         2.5  virginica
102 102          5.8         2.7          5.1         1.9  virginica
103 103          7.1         3.0          5.9         2.1  virginica
104 104          6.3         2.9          5.6         1.8  virginica
105 105          6.5         3.0          5.8         2.2  virginica
106 106          7.6         3.0          6.6         2.1  virginica
107 107          4.9         2.5          4.5         1.7  virginica
108 108          7.3         2.9          6.3         1.8  virginica
109 109          6.7         2.5          5.8         1.8  virginica
110 110          7.2         3.6          6.1         2.5  virginica
111 111          6.5         3.2          5.1         2.0  virginica
112 112          6.4         2.7          5.3         1.9  virginica
113 113          6.8         3.0          5.5         2.1  virginica
114 114          5.7         2.5          5.0         2.0  virginica
115 115          5.8         2.8          5.1         2.4  virginica
116 116          6.4         3.2          5.3         2.3  virginica
117 117          6.5         3.0          5.5         1.8  virginica
118 118          7.7         3.8          6.7         2.2  virginica
119 119          7.7         2.6          6.9         2.3  virginica
120 120          6.0         2.2          5.0         1.5  virginica
121 121          6.9         3.2          5.7         2.3  virginica
122 122          5.6         2.8          4.9         2.0  virginica
123 123          7.7         2.8          6.7         2.0  virginica
124 124          6.3         2.7          4.9         1.8  virginica
125 125          6.7         3.3          5.7         2.1  virginica
126 126          7.2         3.2          6.0         1.8  virginica
127 127          6.2         2.8          4.8         1.8  virginica
128 128          6.1         3.0          4.9         1.8  virginica
129 129          6.4         2.8          5.6         2.1  virginica
130 130          7.2         3.0          5.8         1.6  virginica
131 131          7.4         2.8          6.1         1.9  virginica
132 132          7.9         3.8          6.4         2.0  virginica
133 133          6.4         2.8          5.6         2.2  virginica
134 134          6.3         2.8          5.1         1.5  virginica
135 135          6.1         2.6          5.6         1.4  virginica
136 136          7.7         3.0          6.1         2.3  virginica
137 137          6.3         3.4          5.6         2.4  virginica
138 138          6.4         3.1          5.5         1.8  virginica
139 139          6.0         3.0          4.8         1.8  virginica
140 140          6.9         3.1          5.4         2.1  virginica
141 141          6.7         3.1          5.6         2.4  virginica
142 142          6.9         3.1          5.1         2.3  virginica
143 143          5.8         2.7          5.1         1.9  virginica
144 144          6.8         3.2          5.9         2.3  virginica
145 145          6.7         3.3          5.7         2.5  virginica
146 146          6.7         3.0          5.2         2.3  virginica
147 147          6.3         2.5          5.0         1.9  virginica
148 148          6.5         3.0          5.2         2.0  virginica
149 149          6.2         3.4          5.4         2.3  virginica
150 150          5.9         3.0          5.1         1.8  virginica</code></pre>
</div>
</div>
</div>
</section>
<section id="iris-3" class="slide level2 smaller">
<h2>Iris</h2>
<p>Iris orginal…</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  id Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1  1          5.1         3.5          1.4         0.2  setosa
2  2          4.9         3.0          1.4         0.2  setosa
3  3          4.7         3.2          1.3         0.2  setosa
4  4          4.6         3.1          1.5         0.2  setosa
5  5          5.0         3.6          1.4         0.2  setosa
6  6          5.4         3.9          1.7         0.4  setosa</code></pre>
</div>
</div>
<p><br></p>
<p>Iris transformado (que queremos)…</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  id Species tipo_medicion valor
1  1  setosa  Sepal.Length   5.1
2  1  setosa   Sepal.Width   3.5
3  1  setosa  Petal.Length   1.4
4  1  setosa   Petal.Width   0.2
5  2  setosa  Sepal.Length   4.9
6  2  setosa   Sepal.Width   3.0</code></pre>
</div>
</div>
<aside class="notes">
<p>lo logramos con la funcion <strong>pivot_longer</strong></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pivot_longer" class="slide level2 smaller">
<h2><code>pivot_longer()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># Reorganizamos iris al formato largo</span></span>
<span id="cb73-2"><a href="#cb73-2"></a>iris_vertical <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb73-4"><a href="#cb73-4"></a>    <span class="at">cols =</span> <span class="fu">c</span>(Sepal.Length, Sepal.Width, Petal.Length, Petal.Width),</span>
<span id="cb73-5"><a href="#cb73-5"></a>    <span class="at">names_to =</span> <span class="st">"tipo_medicion"</span>,</span>
<span id="cb73-6"><a href="#cb73-6"></a>    <span class="at">values_to =</span> <span class="st">"valor"</span></span>
<span id="cb73-7"><a href="#cb73-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     id    Species tipo_medicion valor
1     1     setosa  Sepal.Length   5.1
2     1     setosa   Sepal.Width   3.5
3     1     setosa  Petal.Length   1.4
4     1     setosa   Petal.Width   0.2
5     2     setosa  Sepal.Length   4.9
6     2     setosa   Sepal.Width   3.0
7     2     setosa  Petal.Length   1.4
8     2     setosa   Petal.Width   0.2
9     3     setosa  Sepal.Length   4.7
10    3     setosa   Sepal.Width   3.2
11    3     setosa  Petal.Length   1.3
12    3     setosa   Petal.Width   0.2
13    4     setosa  Sepal.Length   4.6
14    4     setosa   Sepal.Width   3.1
15    4     setosa  Petal.Length   1.5
16    4     setosa   Petal.Width   0.2
17    5     setosa  Sepal.Length   5.0
18    5     setosa   Sepal.Width   3.6
19    5     setosa  Petal.Length   1.4
20    5     setosa   Petal.Width   0.2
21    6     setosa  Sepal.Length   5.4
22    6     setosa   Sepal.Width   3.9
23    6     setosa  Petal.Length   1.7
24    6     setosa   Petal.Width   0.4
25    7     setosa  Sepal.Length   4.6
26    7     setosa   Sepal.Width   3.4
27    7     setosa  Petal.Length   1.4
28    7     setosa   Petal.Width   0.3
29    8     setosa  Sepal.Length   5.0
30    8     setosa   Sepal.Width   3.4
31    8     setosa  Petal.Length   1.5
32    8     setosa   Petal.Width   0.2
33    9     setosa  Sepal.Length   4.4
34    9     setosa   Sepal.Width   2.9
35    9     setosa  Petal.Length   1.4
36    9     setosa   Petal.Width   0.2
37   10     setosa  Sepal.Length   4.9
38   10     setosa   Sepal.Width   3.1
39   10     setosa  Petal.Length   1.5
40   10     setosa   Petal.Width   0.1
41   11     setosa  Sepal.Length   5.4
42   11     setosa   Sepal.Width   3.7
43   11     setosa  Petal.Length   1.5
44   11     setosa   Petal.Width   0.2
45   12     setosa  Sepal.Length   4.8
46   12     setosa   Sepal.Width   3.4
47   12     setosa  Petal.Length   1.6
48   12     setosa   Petal.Width   0.2
49   13     setosa  Sepal.Length   4.8
50   13     setosa   Sepal.Width   3.0
51   13     setosa  Petal.Length   1.4
52   13     setosa   Petal.Width   0.1
53   14     setosa  Sepal.Length   4.3
54   14     setosa   Sepal.Width   3.0
55   14     setosa  Petal.Length   1.1
56   14     setosa   Petal.Width   0.1
57   15     setosa  Sepal.Length   5.8
58   15     setosa   Sepal.Width   4.0
59   15     setosa  Petal.Length   1.2
60   15     setosa   Petal.Width   0.2
61   16     setosa  Sepal.Length   5.7
62   16     setosa   Sepal.Width   4.4
63   16     setosa  Petal.Length   1.5
64   16     setosa   Petal.Width   0.4
65   17     setosa  Sepal.Length   5.4
66   17     setosa   Sepal.Width   3.9
67   17     setosa  Petal.Length   1.3
68   17     setosa   Petal.Width   0.4
69   18     setosa  Sepal.Length   5.1
70   18     setosa   Sepal.Width   3.5
71   18     setosa  Petal.Length   1.4
72   18     setosa   Petal.Width   0.3
73   19     setosa  Sepal.Length   5.7
74   19     setosa   Sepal.Width   3.8
75   19     setosa  Petal.Length   1.7
76   19     setosa   Petal.Width   0.3
77   20     setosa  Sepal.Length   5.1
78   20     setosa   Sepal.Width   3.8
79   20     setosa  Petal.Length   1.5
80   20     setosa   Petal.Width   0.3
81   21     setosa  Sepal.Length   5.4
82   21     setosa   Sepal.Width   3.4
83   21     setosa  Petal.Length   1.7
84   21     setosa   Petal.Width   0.2
85   22     setosa  Sepal.Length   5.1
86   22     setosa   Sepal.Width   3.7
87   22     setosa  Petal.Length   1.5
88   22     setosa   Petal.Width   0.4
89   23     setosa  Sepal.Length   4.6
90   23     setosa   Sepal.Width   3.6
91   23     setosa  Petal.Length   1.0
92   23     setosa   Petal.Width   0.2
93   24     setosa  Sepal.Length   5.1
94   24     setosa   Sepal.Width   3.3
95   24     setosa  Petal.Length   1.7
96   24     setosa   Petal.Width   0.5
97   25     setosa  Sepal.Length   4.8
98   25     setosa   Sepal.Width   3.4
99   25     setosa  Petal.Length   1.9
100  25     setosa   Petal.Width   0.2
101  26     setosa  Sepal.Length   5.0
102  26     setosa   Sepal.Width   3.0
103  26     setosa  Petal.Length   1.6
104  26     setosa   Petal.Width   0.2
105  27     setosa  Sepal.Length   5.0
106  27     setosa   Sepal.Width   3.4
107  27     setosa  Petal.Length   1.6
108  27     setosa   Petal.Width   0.4
109  28     setosa  Sepal.Length   5.2
110  28     setosa   Sepal.Width   3.5
111  28     setosa  Petal.Length   1.5
112  28     setosa   Petal.Width   0.2
113  29     setosa  Sepal.Length   5.2
114  29     setosa   Sepal.Width   3.4
115  29     setosa  Petal.Length   1.4
116  29     setosa   Petal.Width   0.2
117  30     setosa  Sepal.Length   4.7
118  30     setosa   Sepal.Width   3.2
119  30     setosa  Petal.Length   1.6
120  30     setosa   Petal.Width   0.2
121  31     setosa  Sepal.Length   4.8
122  31     setosa   Sepal.Width   3.1
123  31     setosa  Petal.Length   1.6
124  31     setosa   Petal.Width   0.2
125  32     setosa  Sepal.Length   5.4
126  32     setosa   Sepal.Width   3.4
127  32     setosa  Petal.Length   1.5
128  32     setosa   Petal.Width   0.4
129  33     setosa  Sepal.Length   5.2
130  33     setosa   Sepal.Width   4.1
131  33     setosa  Petal.Length   1.5
132  33     setosa   Petal.Width   0.1
133  34     setosa  Sepal.Length   5.5
134  34     setosa   Sepal.Width   4.2
135  34     setosa  Petal.Length   1.4
136  34     setosa   Petal.Width   0.2
137  35     setosa  Sepal.Length   4.9
138  35     setosa   Sepal.Width   3.1
139  35     setosa  Petal.Length   1.5
140  35     setosa   Petal.Width   0.2
141  36     setosa  Sepal.Length   5.0
142  36     setosa   Sepal.Width   3.2
143  36     setosa  Petal.Length   1.2
144  36     setosa   Petal.Width   0.2
145  37     setosa  Sepal.Length   5.5
146  37     setosa   Sepal.Width   3.5
147  37     setosa  Petal.Length   1.3
148  37     setosa   Petal.Width   0.2
149  38     setosa  Sepal.Length   4.9
150  38     setosa   Sepal.Width   3.6
151  38     setosa  Petal.Length   1.4
152  38     setosa   Petal.Width   0.1
153  39     setosa  Sepal.Length   4.4
154  39     setosa   Sepal.Width   3.0
155  39     setosa  Petal.Length   1.3
156  39     setosa   Petal.Width   0.2
157  40     setosa  Sepal.Length   5.1
158  40     setosa   Sepal.Width   3.4
159  40     setosa  Petal.Length   1.5
160  40     setosa   Petal.Width   0.2
161  41     setosa  Sepal.Length   5.0
162  41     setosa   Sepal.Width   3.5
163  41     setosa  Petal.Length   1.3
164  41     setosa   Petal.Width   0.3
165  42     setosa  Sepal.Length   4.5
166  42     setosa   Sepal.Width   2.3
167  42     setosa  Petal.Length   1.3
168  42     setosa   Petal.Width   0.3
169  43     setosa  Sepal.Length   4.4
170  43     setosa   Sepal.Width   3.2
171  43     setosa  Petal.Length   1.3
172  43     setosa   Petal.Width   0.2
173  44     setosa  Sepal.Length   5.0
174  44     setosa   Sepal.Width   3.5
175  44     setosa  Petal.Length   1.6
176  44     setosa   Petal.Width   0.6
177  45     setosa  Sepal.Length   5.1
178  45     setosa   Sepal.Width   3.8
179  45     setosa  Petal.Length   1.9
180  45     setosa   Petal.Width   0.4
181  46     setosa  Sepal.Length   4.8
182  46     setosa   Sepal.Width   3.0
183  46     setosa  Petal.Length   1.4
184  46     setosa   Petal.Width   0.3
185  47     setosa  Sepal.Length   5.1
186  47     setosa   Sepal.Width   3.8
187  47     setosa  Petal.Length   1.6
188  47     setosa   Petal.Width   0.2
189  48     setosa  Sepal.Length   4.6
190  48     setosa   Sepal.Width   3.2
191  48     setosa  Petal.Length   1.4
192  48     setosa   Petal.Width   0.2
193  49     setosa  Sepal.Length   5.3
194  49     setosa   Sepal.Width   3.7
195  49     setosa  Petal.Length   1.5
196  49     setosa   Petal.Width   0.2
197  50     setosa  Sepal.Length   5.0
198  50     setosa   Sepal.Width   3.3
199  50     setosa  Petal.Length   1.4
200  50     setosa   Petal.Width   0.2
201  51 versicolor  Sepal.Length   7.0
202  51 versicolor   Sepal.Width   3.2
203  51 versicolor  Petal.Length   4.7
204  51 versicolor   Petal.Width   1.4
205  52 versicolor  Sepal.Length   6.4
206  52 versicolor   Sepal.Width   3.2
207  52 versicolor  Petal.Length   4.5
208  52 versicolor   Petal.Width   1.5
209  53 versicolor  Sepal.Length   6.9
210  53 versicolor   Sepal.Width   3.1
211  53 versicolor  Petal.Length   4.9
212  53 versicolor   Petal.Width   1.5
213  54 versicolor  Sepal.Length   5.5
214  54 versicolor   Sepal.Width   2.3
215  54 versicolor  Petal.Length   4.0
216  54 versicolor   Petal.Width   1.3
217  55 versicolor  Sepal.Length   6.5
218  55 versicolor   Sepal.Width   2.8
219  55 versicolor  Petal.Length   4.6
220  55 versicolor   Petal.Width   1.5
221  56 versicolor  Sepal.Length   5.7
222  56 versicolor   Sepal.Width   2.8
223  56 versicolor  Petal.Length   4.5
224  56 versicolor   Petal.Width   1.3
225  57 versicolor  Sepal.Length   6.3
226  57 versicolor   Sepal.Width   3.3
227  57 versicolor  Petal.Length   4.7
228  57 versicolor   Petal.Width   1.6
229  58 versicolor  Sepal.Length   4.9
230  58 versicolor   Sepal.Width   2.4
231  58 versicolor  Petal.Length   3.3
232  58 versicolor   Petal.Width   1.0
233  59 versicolor  Sepal.Length   6.6
234  59 versicolor   Sepal.Width   2.9
235  59 versicolor  Petal.Length   4.6
236  59 versicolor   Petal.Width   1.3
237  60 versicolor  Sepal.Length   5.2
238  60 versicolor   Sepal.Width   2.7
239  60 versicolor  Petal.Length   3.9
240  60 versicolor   Petal.Width   1.4
241  61 versicolor  Sepal.Length   5.0
242  61 versicolor   Sepal.Width   2.0
243  61 versicolor  Petal.Length   3.5
244  61 versicolor   Petal.Width   1.0
245  62 versicolor  Sepal.Length   5.9
246  62 versicolor   Sepal.Width   3.0
247  62 versicolor  Petal.Length   4.2
248  62 versicolor   Petal.Width   1.5
249  63 versicolor  Sepal.Length   6.0
250  63 versicolor   Sepal.Width   2.2
251  63 versicolor  Petal.Length   4.0
252  63 versicolor   Petal.Width   1.0
253  64 versicolor  Sepal.Length   6.1
254  64 versicolor   Sepal.Width   2.9
255  64 versicolor  Petal.Length   4.7
256  64 versicolor   Petal.Width   1.4
257  65 versicolor  Sepal.Length   5.6
258  65 versicolor   Sepal.Width   2.9
259  65 versicolor  Petal.Length   3.6
260  65 versicolor   Petal.Width   1.3
261  66 versicolor  Sepal.Length   6.7
262  66 versicolor   Sepal.Width   3.1
263  66 versicolor  Petal.Length   4.4
264  66 versicolor   Petal.Width   1.4
265  67 versicolor  Sepal.Length   5.6
266  67 versicolor   Sepal.Width   3.0
267  67 versicolor  Petal.Length   4.5
268  67 versicolor   Petal.Width   1.5
269  68 versicolor  Sepal.Length   5.8
270  68 versicolor   Sepal.Width   2.7
271  68 versicolor  Petal.Length   4.1
272  68 versicolor   Petal.Width   1.0
273  69 versicolor  Sepal.Length   6.2
274  69 versicolor   Sepal.Width   2.2
275  69 versicolor  Petal.Length   4.5
276  69 versicolor   Petal.Width   1.5
277  70 versicolor  Sepal.Length   5.6
278  70 versicolor   Sepal.Width   2.5
279  70 versicolor  Petal.Length   3.9
280  70 versicolor   Petal.Width   1.1
281  71 versicolor  Sepal.Length   5.9
282  71 versicolor   Sepal.Width   3.2
283  71 versicolor  Petal.Length   4.8
284  71 versicolor   Petal.Width   1.8
285  72 versicolor  Sepal.Length   6.1
286  72 versicolor   Sepal.Width   2.8
287  72 versicolor  Petal.Length   4.0
288  72 versicolor   Petal.Width   1.3
289  73 versicolor  Sepal.Length   6.3
290  73 versicolor   Sepal.Width   2.5
291  73 versicolor  Petal.Length   4.9
292  73 versicolor   Petal.Width   1.5
293  74 versicolor  Sepal.Length   6.1
294  74 versicolor   Sepal.Width   2.8
295  74 versicolor  Petal.Length   4.7
296  74 versicolor   Petal.Width   1.2
297  75 versicolor  Sepal.Length   6.4
298  75 versicolor   Sepal.Width   2.9
299  75 versicolor  Petal.Length   4.3
300  75 versicolor   Petal.Width   1.3
301  76 versicolor  Sepal.Length   6.6
302  76 versicolor   Sepal.Width   3.0
303  76 versicolor  Petal.Length   4.4
304  76 versicolor   Petal.Width   1.4
305  77 versicolor  Sepal.Length   6.8
306  77 versicolor   Sepal.Width   2.8
307  77 versicolor  Petal.Length   4.8
308  77 versicolor   Petal.Width   1.4
309  78 versicolor  Sepal.Length   6.7
310  78 versicolor   Sepal.Width   3.0
311  78 versicolor  Petal.Length   5.0
312  78 versicolor   Petal.Width   1.7
313  79 versicolor  Sepal.Length   6.0
314  79 versicolor   Sepal.Width   2.9
315  79 versicolor  Petal.Length   4.5
316  79 versicolor   Petal.Width   1.5
317  80 versicolor  Sepal.Length   5.7
318  80 versicolor   Sepal.Width   2.6
319  80 versicolor  Petal.Length   3.5
320  80 versicolor   Petal.Width   1.0
321  81 versicolor  Sepal.Length   5.5
322  81 versicolor   Sepal.Width   2.4
323  81 versicolor  Petal.Length   3.8
324  81 versicolor   Petal.Width   1.1
325  82 versicolor  Sepal.Length   5.5
326  82 versicolor   Sepal.Width   2.4
327  82 versicolor  Petal.Length   3.7
328  82 versicolor   Petal.Width   1.0
329  83 versicolor  Sepal.Length   5.8
330  83 versicolor   Sepal.Width   2.7
331  83 versicolor  Petal.Length   3.9
332  83 versicolor   Petal.Width   1.2
333  84 versicolor  Sepal.Length   6.0
334  84 versicolor   Sepal.Width   2.7
335  84 versicolor  Petal.Length   5.1
336  84 versicolor   Petal.Width   1.6
337  85 versicolor  Sepal.Length   5.4
338  85 versicolor   Sepal.Width   3.0
339  85 versicolor  Petal.Length   4.5
340  85 versicolor   Petal.Width   1.5
341  86 versicolor  Sepal.Length   6.0
342  86 versicolor   Sepal.Width   3.4
343  86 versicolor  Petal.Length   4.5
344  86 versicolor   Petal.Width   1.6
345  87 versicolor  Sepal.Length   6.7
346  87 versicolor   Sepal.Width   3.1
347  87 versicolor  Petal.Length   4.7
348  87 versicolor   Petal.Width   1.5
349  88 versicolor  Sepal.Length   6.3
350  88 versicolor   Sepal.Width   2.3
351  88 versicolor  Petal.Length   4.4
352  88 versicolor   Petal.Width   1.3
353  89 versicolor  Sepal.Length   5.6
354  89 versicolor   Sepal.Width   3.0
355  89 versicolor  Petal.Length   4.1
356  89 versicolor   Petal.Width   1.3
357  90 versicolor  Sepal.Length   5.5
358  90 versicolor   Sepal.Width   2.5
359  90 versicolor  Petal.Length   4.0
360  90 versicolor   Petal.Width   1.3
361  91 versicolor  Sepal.Length   5.5
362  91 versicolor   Sepal.Width   2.6
363  91 versicolor  Petal.Length   4.4
364  91 versicolor   Petal.Width   1.2
365  92 versicolor  Sepal.Length   6.1
366  92 versicolor   Sepal.Width   3.0
367  92 versicolor  Petal.Length   4.6
368  92 versicolor   Petal.Width   1.4
369  93 versicolor  Sepal.Length   5.8
370  93 versicolor   Sepal.Width   2.6
371  93 versicolor  Petal.Length   4.0
372  93 versicolor   Petal.Width   1.2
373  94 versicolor  Sepal.Length   5.0
374  94 versicolor   Sepal.Width   2.3
375  94 versicolor  Petal.Length   3.3
376  94 versicolor   Petal.Width   1.0
377  95 versicolor  Sepal.Length   5.6
378  95 versicolor   Sepal.Width   2.7
379  95 versicolor  Petal.Length   4.2
380  95 versicolor   Petal.Width   1.3
381  96 versicolor  Sepal.Length   5.7
382  96 versicolor   Sepal.Width   3.0
383  96 versicolor  Petal.Length   4.2
384  96 versicolor   Petal.Width   1.2
385  97 versicolor  Sepal.Length   5.7
386  97 versicolor   Sepal.Width   2.9
387  97 versicolor  Petal.Length   4.2
388  97 versicolor   Petal.Width   1.3
389  98 versicolor  Sepal.Length   6.2
390  98 versicolor   Sepal.Width   2.9
391  98 versicolor  Petal.Length   4.3
392  98 versicolor   Petal.Width   1.3
393  99 versicolor  Sepal.Length   5.1
394  99 versicolor   Sepal.Width   2.5
395  99 versicolor  Petal.Length   3.0
396  99 versicolor   Petal.Width   1.1
397 100 versicolor  Sepal.Length   5.7
398 100 versicolor   Sepal.Width   2.8
399 100 versicolor  Petal.Length   4.1
400 100 versicolor   Petal.Width   1.3
401 101  virginica  Sepal.Length   6.3
402 101  virginica   Sepal.Width   3.3
403 101  virginica  Petal.Length   6.0
404 101  virginica   Petal.Width   2.5
405 102  virginica  Sepal.Length   5.8
406 102  virginica   Sepal.Width   2.7
407 102  virginica  Petal.Length   5.1
408 102  virginica   Petal.Width   1.9
409 103  virginica  Sepal.Length   7.1
410 103  virginica   Sepal.Width   3.0
411 103  virginica  Petal.Length   5.9
412 103  virginica   Petal.Width   2.1
413 104  virginica  Sepal.Length   6.3
414 104  virginica   Sepal.Width   2.9
415 104  virginica  Petal.Length   5.6
416 104  virginica   Petal.Width   1.8
417 105  virginica  Sepal.Length   6.5
418 105  virginica   Sepal.Width   3.0
419 105  virginica  Petal.Length   5.8
420 105  virginica   Petal.Width   2.2
421 106  virginica  Sepal.Length   7.6
422 106  virginica   Sepal.Width   3.0
423 106  virginica  Petal.Length   6.6
424 106  virginica   Petal.Width   2.1
425 107  virginica  Sepal.Length   4.9
426 107  virginica   Sepal.Width   2.5
427 107  virginica  Petal.Length   4.5
428 107  virginica   Petal.Width   1.7
429 108  virginica  Sepal.Length   7.3
430 108  virginica   Sepal.Width   2.9
431 108  virginica  Petal.Length   6.3
432 108  virginica   Petal.Width   1.8
433 109  virginica  Sepal.Length   6.7
434 109  virginica   Sepal.Width   2.5
435 109  virginica  Petal.Length   5.8
436 109  virginica   Petal.Width   1.8
437 110  virginica  Sepal.Length   7.2
438 110  virginica   Sepal.Width   3.6
439 110  virginica  Petal.Length   6.1
440 110  virginica   Petal.Width   2.5
441 111  virginica  Sepal.Length   6.5
442 111  virginica   Sepal.Width   3.2
443 111  virginica  Petal.Length   5.1
444 111  virginica   Petal.Width   2.0
445 112  virginica  Sepal.Length   6.4
446 112  virginica   Sepal.Width   2.7
447 112  virginica  Petal.Length   5.3
448 112  virginica   Petal.Width   1.9
449 113  virginica  Sepal.Length   6.8
450 113  virginica   Sepal.Width   3.0
451 113  virginica  Petal.Length   5.5
452 113  virginica   Petal.Width   2.1
453 114  virginica  Sepal.Length   5.7
454 114  virginica   Sepal.Width   2.5
455 114  virginica  Petal.Length   5.0
456 114  virginica   Petal.Width   2.0
457 115  virginica  Sepal.Length   5.8
458 115  virginica   Sepal.Width   2.8
459 115  virginica  Petal.Length   5.1
460 115  virginica   Petal.Width   2.4
461 116  virginica  Sepal.Length   6.4
462 116  virginica   Sepal.Width   3.2
463 116  virginica  Petal.Length   5.3
464 116  virginica   Petal.Width   2.3
465 117  virginica  Sepal.Length   6.5
466 117  virginica   Sepal.Width   3.0
467 117  virginica  Petal.Length   5.5
468 117  virginica   Petal.Width   1.8
469 118  virginica  Sepal.Length   7.7
470 118  virginica   Sepal.Width   3.8
471 118  virginica  Petal.Length   6.7
472 118  virginica   Petal.Width   2.2
473 119  virginica  Sepal.Length   7.7
474 119  virginica   Sepal.Width   2.6
475 119  virginica  Petal.Length   6.9
476 119  virginica   Petal.Width   2.3
477 120  virginica  Sepal.Length   6.0
478 120  virginica   Sepal.Width   2.2
479 120  virginica  Petal.Length   5.0
480 120  virginica   Petal.Width   1.5
481 121  virginica  Sepal.Length   6.9
482 121  virginica   Sepal.Width   3.2
483 121  virginica  Petal.Length   5.7
484 121  virginica   Petal.Width   2.3
485 122  virginica  Sepal.Length   5.6
486 122  virginica   Sepal.Width   2.8
487 122  virginica  Petal.Length   4.9
488 122  virginica   Petal.Width   2.0
489 123  virginica  Sepal.Length   7.7
490 123  virginica   Sepal.Width   2.8
491 123  virginica  Petal.Length   6.7
492 123  virginica   Petal.Width   2.0
493 124  virginica  Sepal.Length   6.3
494 124  virginica   Sepal.Width   2.7
495 124  virginica  Petal.Length   4.9
496 124  virginica   Petal.Width   1.8
497 125  virginica  Sepal.Length   6.7
498 125  virginica   Sepal.Width   3.3
499 125  virginica  Petal.Length   5.7
500 125  virginica   Petal.Width   2.1
501 126  virginica  Sepal.Length   7.2
502 126  virginica   Sepal.Width   3.2
503 126  virginica  Petal.Length   6.0
504 126  virginica   Petal.Width   1.8
505 127  virginica  Sepal.Length   6.2
506 127  virginica   Sepal.Width   2.8
507 127  virginica  Petal.Length   4.8
508 127  virginica   Petal.Width   1.8
509 128  virginica  Sepal.Length   6.1
510 128  virginica   Sepal.Width   3.0
511 128  virginica  Petal.Length   4.9
512 128  virginica   Petal.Width   1.8
513 129  virginica  Sepal.Length   6.4
514 129  virginica   Sepal.Width   2.8
515 129  virginica  Petal.Length   5.6
516 129  virginica   Petal.Width   2.1
517 130  virginica  Sepal.Length   7.2
518 130  virginica   Sepal.Width   3.0
519 130  virginica  Petal.Length   5.8
520 130  virginica   Petal.Width   1.6
521 131  virginica  Sepal.Length   7.4
522 131  virginica   Sepal.Width   2.8
523 131  virginica  Petal.Length   6.1
524 131  virginica   Petal.Width   1.9
525 132  virginica  Sepal.Length   7.9
526 132  virginica   Sepal.Width   3.8
527 132  virginica  Petal.Length   6.4
528 132  virginica   Petal.Width   2.0
529 133  virginica  Sepal.Length   6.4
530 133  virginica   Sepal.Width   2.8
531 133  virginica  Petal.Length   5.6
532 133  virginica   Petal.Width   2.2
533 134  virginica  Sepal.Length   6.3
534 134  virginica   Sepal.Width   2.8
535 134  virginica  Petal.Length   5.1
536 134  virginica   Petal.Width   1.5
537 135  virginica  Sepal.Length   6.1
538 135  virginica   Sepal.Width   2.6
539 135  virginica  Petal.Length   5.6
540 135  virginica   Petal.Width   1.4
541 136  virginica  Sepal.Length   7.7
542 136  virginica   Sepal.Width   3.0
543 136  virginica  Petal.Length   6.1
544 136  virginica   Petal.Width   2.3
545 137  virginica  Sepal.Length   6.3
546 137  virginica   Sepal.Width   3.4
547 137  virginica  Petal.Length   5.6
548 137  virginica   Petal.Width   2.4
549 138  virginica  Sepal.Length   6.4
550 138  virginica   Sepal.Width   3.1
551 138  virginica  Petal.Length   5.5
552 138  virginica   Petal.Width   1.8
553 139  virginica  Sepal.Length   6.0
554 139  virginica   Sepal.Width   3.0
555 139  virginica  Petal.Length   4.8
556 139  virginica   Petal.Width   1.8
557 140  virginica  Sepal.Length   6.9
558 140  virginica   Sepal.Width   3.1
559 140  virginica  Petal.Length   5.4
560 140  virginica   Petal.Width   2.1
561 141  virginica  Sepal.Length   6.7
562 141  virginica   Sepal.Width   3.1
563 141  virginica  Petal.Length   5.6
564 141  virginica   Petal.Width   2.4
565 142  virginica  Sepal.Length   6.9
566 142  virginica   Sepal.Width   3.1
567 142  virginica  Petal.Length   5.1
568 142  virginica   Petal.Width   2.3
569 143  virginica  Sepal.Length   5.8
570 143  virginica   Sepal.Width   2.7
571 143  virginica  Petal.Length   5.1
572 143  virginica   Petal.Width   1.9
573 144  virginica  Sepal.Length   6.8
574 144  virginica   Sepal.Width   3.2
575 144  virginica  Petal.Length   5.9
576 144  virginica   Petal.Width   2.3
577 145  virginica  Sepal.Length   6.7
578 145  virginica   Sepal.Width   3.3
579 145  virginica  Petal.Length   5.7
580 145  virginica   Petal.Width   2.5
581 146  virginica  Sepal.Length   6.7
582 146  virginica   Sepal.Width   3.0
583 146  virginica  Petal.Length   5.2
584 146  virginica   Petal.Width   2.3
585 147  virginica  Sepal.Length   6.3
586 147  virginica   Sepal.Width   2.5
587 147  virginica  Petal.Length   5.0
588 147  virginica   Petal.Width   1.9
589 148  virginica  Sepal.Length   6.5
590 148  virginica   Sepal.Width   3.0
591 148  virginica  Petal.Length   5.2
592 148  virginica   Petal.Width   2.0
593 149  virginica  Sepal.Length   6.2
594 149  virginica   Sepal.Width   3.4
595 149  virginica  Petal.Length   5.4
596 149  virginica   Petal.Width   2.3
597 150  virginica  Sepal.Length   5.9
598 150  virginica   Sepal.Width   3.0
599 150  virginica  Petal.Length   5.1
600 150  virginica   Petal.Width   1.8</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li><p>En <strong>cols</strong> indicamos las columnas que queremos pivotear al formato “largo”.</p></li>
<li><p>Los nombres de esas columnas pasarán a formar los valores de una nueva columna categórica.</p></li>
<li><p>En <strong>names_to</strong> escribimos el nombre que le queremos dar a esa nueva columna de nombres.</p></li>
<li><p>En <strong>values_to</strong> definimos el nombre de la columna donde se ubicarán los valores que antes estaban repartidos entre las columnas que pivotemos.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pivot_longer-1" class="slide level2 smaller">
<h2><code>pivot_longer()</code></h2>
<ul>
<li><p><strong>cols</strong>: columnas que queremos pivotear al formato “largo”.</p></li>
<li><p><strong>names_to</strong>: nombre de la columna que contendrá los nombres de las columnas que pivoteamos.</p></li>
<li><p><strong>values_to</strong>: nombre de la columna que contendrá los valores que estaban en las columnas que pivotemos.</p></li>
</ul>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>iris_vertical <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a href="#cb75-2"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb75-3"><a href="#cb75-3"></a>    <span class="at">cols =</span> <span class="fu">c</span>(Sepal.Length, Sepal.Width, Petal.Length, Petal.Width),</span>
<span id="cb75-4"><a href="#cb75-4"></a>    <span class="at">names_to =</span> <span class="st">"tipo_medicion"</span>,</span>
<span id="cb75-5"><a href="#cb75-5"></a>    <span class="at">values_to =</span> <span class="st">"valor"</span></span>
<span id="cb75-6"><a href="#cb75-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pivot_wider" class="slide level2 smaller">
<h2><code>pivot_wider()</code></h2>
<p>Supongamos que queremos volver al Iris original. Es decir,</p>
<p>Queremos pasar de…</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  id Species tipo_medicion valor
1  1  setosa  Sepal.Length   5.1
2  1  setosa   Sepal.Width   3.5
3  1  setosa  Petal.Length   1.4
4  1  setosa   Petal.Width   0.2
5  2  setosa  Sepal.Length   4.9
6  2  setosa   Sepal.Width   3.0</code></pre>
</div>
</div>
<p>A…</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  id Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1  1          5.1         3.5          1.4         0.2  setosa
2  2          4.9         3.0          1.4         0.2  setosa
3  3          4.7         3.2          1.3         0.2  setosa
4  4          4.6         3.1          1.5         0.2  setosa
5  5          5.0         3.6          1.4         0.2  setosa
6  6          5.4         3.9          1.7         0.4  setosa</code></pre>
</div>
</div>
<aside class="notes">
<p>lo logramos con la funcion pivot_wider</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pivot_wider-1" class="slide level2 smaller">
<h2><code>pivot_wider()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="co"># Volvemos al formato "ancho" a partir del formato largo</span></span>
<span id="cb78-2"><a href="#cb78-2"></a>iris_horizontal <span class="ot">&lt;-</span> iris_vertical <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="#cb78-3"></a>  <span class="fu">pivot_wider</span>( </span>
<span id="cb78-4"><a href="#cb78-4"></a>    <span class="at">names_from =</span> tipo_medicion,</span>
<span id="cb78-5"><a href="#cb78-5"></a>    <span class="at">values_from =</span> valor</span>
<span id="cb78-6"><a href="#cb78-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     id    Species Sepal.Length Sepal.Width Petal.Length Petal.Width
1     1     setosa          5.1         3.5          1.4         0.2
2     2     setosa          4.9         3.0          1.4         0.2
3     3     setosa          4.7         3.2          1.3         0.2
4     4     setosa          4.6         3.1          1.5         0.2
5     5     setosa          5.0         3.6          1.4         0.2
6     6     setosa          5.4         3.9          1.7         0.4
7     7     setosa          4.6         3.4          1.4         0.3
8     8     setosa          5.0         3.4          1.5         0.2
9     9     setosa          4.4         2.9          1.4         0.2
10   10     setosa          4.9         3.1          1.5         0.1
11   11     setosa          5.4         3.7          1.5         0.2
12   12     setosa          4.8         3.4          1.6         0.2
13   13     setosa          4.8         3.0          1.4         0.1
14   14     setosa          4.3         3.0          1.1         0.1
15   15     setosa          5.8         4.0          1.2         0.2
16   16     setosa          5.7         4.4          1.5         0.4
17   17     setosa          5.4         3.9          1.3         0.4
18   18     setosa          5.1         3.5          1.4         0.3
19   19     setosa          5.7         3.8          1.7         0.3
20   20     setosa          5.1         3.8          1.5         0.3
21   21     setosa          5.4         3.4          1.7         0.2
22   22     setosa          5.1         3.7          1.5         0.4
23   23     setosa          4.6         3.6          1.0         0.2
24   24     setosa          5.1         3.3          1.7         0.5
25   25     setosa          4.8         3.4          1.9         0.2
26   26     setosa          5.0         3.0          1.6         0.2
27   27     setosa          5.0         3.4          1.6         0.4
28   28     setosa          5.2         3.5          1.5         0.2
29   29     setosa          5.2         3.4          1.4         0.2
30   30     setosa          4.7         3.2          1.6         0.2
31   31     setosa          4.8         3.1          1.6         0.2
32   32     setosa          5.4         3.4          1.5         0.4
33   33     setosa          5.2         4.1          1.5         0.1
34   34     setosa          5.5         4.2          1.4         0.2
35   35     setosa          4.9         3.1          1.5         0.2
36   36     setosa          5.0         3.2          1.2         0.2
37   37     setosa          5.5         3.5          1.3         0.2
38   38     setosa          4.9         3.6          1.4         0.1
39   39     setosa          4.4         3.0          1.3         0.2
40   40     setosa          5.1         3.4          1.5         0.2
41   41     setosa          5.0         3.5          1.3         0.3
42   42     setosa          4.5         2.3          1.3         0.3
43   43     setosa          4.4         3.2          1.3         0.2
44   44     setosa          5.0         3.5          1.6         0.6
45   45     setosa          5.1         3.8          1.9         0.4
46   46     setosa          4.8         3.0          1.4         0.3
47   47     setosa          5.1         3.8          1.6         0.2
48   48     setosa          4.6         3.2          1.4         0.2
49   49     setosa          5.3         3.7          1.5         0.2
50   50     setosa          5.0         3.3          1.4         0.2
51   51 versicolor          7.0         3.2          4.7         1.4
52   52 versicolor          6.4         3.2          4.5         1.5
53   53 versicolor          6.9         3.1          4.9         1.5
54   54 versicolor          5.5         2.3          4.0         1.3
55   55 versicolor          6.5         2.8          4.6         1.5
56   56 versicolor          5.7         2.8          4.5         1.3
57   57 versicolor          6.3         3.3          4.7         1.6
58   58 versicolor          4.9         2.4          3.3         1.0
59   59 versicolor          6.6         2.9          4.6         1.3
60   60 versicolor          5.2         2.7          3.9         1.4
61   61 versicolor          5.0         2.0          3.5         1.0
62   62 versicolor          5.9         3.0          4.2         1.5
63   63 versicolor          6.0         2.2          4.0         1.0
64   64 versicolor          6.1         2.9          4.7         1.4
65   65 versicolor          5.6         2.9          3.6         1.3
66   66 versicolor          6.7         3.1          4.4         1.4
67   67 versicolor          5.6         3.0          4.5         1.5
68   68 versicolor          5.8         2.7          4.1         1.0
69   69 versicolor          6.2         2.2          4.5         1.5
70   70 versicolor          5.6         2.5          3.9         1.1
71   71 versicolor          5.9         3.2          4.8         1.8
72   72 versicolor          6.1         2.8          4.0         1.3
73   73 versicolor          6.3         2.5          4.9         1.5
74   74 versicolor          6.1         2.8          4.7         1.2
75   75 versicolor          6.4         2.9          4.3         1.3
76   76 versicolor          6.6         3.0          4.4         1.4
77   77 versicolor          6.8         2.8          4.8         1.4
78   78 versicolor          6.7         3.0          5.0         1.7
79   79 versicolor          6.0         2.9          4.5         1.5
80   80 versicolor          5.7         2.6          3.5         1.0
81   81 versicolor          5.5         2.4          3.8         1.1
82   82 versicolor          5.5         2.4          3.7         1.0
83   83 versicolor          5.8         2.7          3.9         1.2
84   84 versicolor          6.0         2.7          5.1         1.6
85   85 versicolor          5.4         3.0          4.5         1.5
86   86 versicolor          6.0         3.4          4.5         1.6
87   87 versicolor          6.7         3.1          4.7         1.5
88   88 versicolor          6.3         2.3          4.4         1.3
89   89 versicolor          5.6         3.0          4.1         1.3
90   90 versicolor          5.5         2.5          4.0         1.3
91   91 versicolor          5.5         2.6          4.4         1.2
92   92 versicolor          6.1         3.0          4.6         1.4
93   93 versicolor          5.8         2.6          4.0         1.2
94   94 versicolor          5.0         2.3          3.3         1.0
95   95 versicolor          5.6         2.7          4.2         1.3
96   96 versicolor          5.7         3.0          4.2         1.2
97   97 versicolor          5.7         2.9          4.2         1.3
98   98 versicolor          6.2         2.9          4.3         1.3
99   99 versicolor          5.1         2.5          3.0         1.1
100 100 versicolor          5.7         2.8          4.1         1.3
101 101  virginica          6.3         3.3          6.0         2.5
102 102  virginica          5.8         2.7          5.1         1.9
103 103  virginica          7.1         3.0          5.9         2.1
104 104  virginica          6.3         2.9          5.6         1.8
105 105  virginica          6.5         3.0          5.8         2.2
106 106  virginica          7.6         3.0          6.6         2.1
107 107  virginica          4.9         2.5          4.5         1.7
108 108  virginica          7.3         2.9          6.3         1.8
109 109  virginica          6.7         2.5          5.8         1.8
110 110  virginica          7.2         3.6          6.1         2.5
111 111  virginica          6.5         3.2          5.1         2.0
112 112  virginica          6.4         2.7          5.3         1.9
113 113  virginica          6.8         3.0          5.5         2.1
114 114  virginica          5.7         2.5          5.0         2.0
115 115  virginica          5.8         2.8          5.1         2.4
116 116  virginica          6.4         3.2          5.3         2.3
117 117  virginica          6.5         3.0          5.5         1.8
118 118  virginica          7.7         3.8          6.7         2.2
119 119  virginica          7.7         2.6          6.9         2.3
120 120  virginica          6.0         2.2          5.0         1.5
121 121  virginica          6.9         3.2          5.7         2.3
122 122  virginica          5.6         2.8          4.9         2.0
123 123  virginica          7.7         2.8          6.7         2.0
124 124  virginica          6.3         2.7          4.9         1.8
125 125  virginica          6.7         3.3          5.7         2.1
126 126  virginica          7.2         3.2          6.0         1.8
127 127  virginica          6.2         2.8          4.8         1.8
128 128  virginica          6.1         3.0          4.9         1.8
129 129  virginica          6.4         2.8          5.6         2.1
130 130  virginica          7.2         3.0          5.8         1.6
131 131  virginica          7.4         2.8          6.1         1.9
132 132  virginica          7.9         3.8          6.4         2.0
133 133  virginica          6.4         2.8          5.6         2.2
134 134  virginica          6.3         2.8          5.1         1.5
135 135  virginica          6.1         2.6          5.6         1.4
136 136  virginica          7.7         3.0          6.1         2.3
137 137  virginica          6.3         3.4          5.6         2.4
138 138  virginica          6.4         3.1          5.5         1.8
139 139  virginica          6.0         3.0          4.8         1.8
140 140  virginica          6.9         3.1          5.4         2.1
141 141  virginica          6.7         3.1          5.6         2.4
142 142  virginica          6.9         3.1          5.1         2.3
143 143  virginica          5.8         2.7          5.1         1.9
144 144  virginica          6.8         3.2          5.9         2.3
145 145  virginica          6.7         3.3          5.7         2.5
146 146  virginica          6.7         3.0          5.2         2.3
147 147  virginica          6.3         2.5          5.0         1.9
148 148  virginica          6.5         3.0          5.2         2.0
149 149  virginica          6.2         3.4          5.4         2.3
150 150  virginica          5.9         3.0          5.1         1.8</code></pre>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li><p>En <strong>names_from</strong> indicamos el nombre de la columna que contiene los nombres de las nuevas columnas (que queremos pasar a formato ancho)</p></li>
<li><p>En <strong>values_from</strong> definimos el nombre de la columna que tiene los valores que queremos colocar en las nuevas columnas</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pivot_wider-2" class="slide level2 smaller">
<h2><code>pivot_wider()</code></h2>
<ul>
<li><p>En <strong>names_from</strong> indicamos el nombre de la columna que contiene los valores que se usarán como nombres de las nuevas columnas (es decir, las que queremos “expandir” en formato ancho).</p></li>
<li><p>En <strong>values_from</strong> indicamos el nombre de la columna que contiene los valores que se ubicarán dentro de esas nuevas columnas.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a><span class="co"># Volvemos al formato "ancho" a partir del formato largo</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>iris_horizontal <span class="ot">&lt;-</span> iris_vertical <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="#cb80-3"></a>  <span class="fu">pivot_wider</span>( </span>
<span id="cb80-4"><a href="#cb80-4"></a>    <span class="at">names_from =</span> tipo_medicion,</span>
<span id="cb80-5"><a href="#cb80-5"></a>    <span class="at">values_from =</span> valor</span>
<span id="cb80-6"><a href="#cb80-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="lubridate" class="title-slide slide level1 center">
<h1>Lubridate</h1>
<ul>
<li><p>Sirve para trabajar datos que contienen <strong>fechas</strong> y <strong>horas</strong>.</p></li>
<li><p>Incluye funciones que permiten convertir datos de tipo <code>character</code> en objetos de tipo <code>date</code> (para trabajar con fechas) o <code>datetime</code> (para trabajar con fechas y horarios).</p></li>
</ul>
</section>
<section id="funciones-para-fechas" class="slide level2">
<h2>Funciones para fechas</h2>
<ul>
<li><p>Funciones para convertir datos de tipo <code>character</code> a <code>date</code>:</p>
<ul>
<li><code>dmy()</code>: <strong>día-mes-año</strong></li>
<li><code>mdy()</code>: <strong>mes-día-año</strong></li>
<li><code>ymd()</code>: <strong>año-mes-día</strong></li>
</ul></li>
</ul>
<aside class="notes">
<p>Veamos ejemplo de dmy() y mdy().</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dmy" class="slide level2 smaller">
<h2><code>dmy()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>fecha1 <span class="ot">&lt;-</span> <span class="st">"25-07-2025"</span>  <span class="co"># día-mes-año</span></span>
<span id="cb81-2"><a href="#cb81-2"></a>fecha1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "25-07-2025"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="fu">class</span>(fecha1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="fragment">
<p><br></p>
<p>En este caso el orden es día-mes-año, entonces usamos <code>dmy()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>fecha1 <span class="ot">&lt;-</span> <span class="fu">dmy</span>(fecha1)</span>
<span id="cb85-2"><a href="#cb85-2"></a>fecha1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-07-25"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="fu">class</span>(fecha1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<aside class="notes">
<p>el orden de los objetos Date siempre es año-mes-dia</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="mdy" class="slide level2 smaller">
<h2><code>mdy()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>fecha2 <span class="ot">&lt;-</span> <span class="st">"07-25-2025"</span>  <span class="co"># mes-día-año</span></span>
<span id="cb89-2"><a href="#cb89-2"></a>fecha2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "07-25-2025"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">class</span>(fecha2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="fragment">
<p><br></p>
<p>En este caso el orden es mes-día-año, entonces usamos <code>mdy()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>fecha2 <span class="ot">&lt;-</span> <span class="fu">mdy</span>(fecha2)</span>
<span id="cb93-2"><a href="#cb93-2"></a>fecha2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-07-25"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="fu">class</span>(fecha2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<aside class="notes">
<p>el orden de los objetos Date siempre es año-mes-dia</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="funciones-para-fechas-y-horarios" class="slide level2">
<h2>Funciones para fechas y horarios</h2>
<ul>
<li><p>Funciones para convertir texto que incluye <strong>fecha y hora</strong>:</p>
<ul>
<li><code>dmy_hms()</code>: <strong>día-mes-año hora:minuto:segundo</strong></li>
<li><code>mdy_hms()</code>: <strong>mes-día-año hora:minuto:segundo</strong></li>
<li><code>ymd_hms()</code>: <strong>año-mes-día hora:minuto:segundo</strong></li>
</ul></li>
</ul>
<aside class="notes">
<p>Veamos un ejemplo de dmy_hms(), las otras son analogas.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dmy_hms" class="slide level2 smaller">
<h2><code>dmy_hms()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>fecha <span class="ot">&lt;-</span> <span class="st">"25-07-2025 14:30:00"</span>  <span class="co"># día-mes-año</span></span>
<span id="cb97-2"><a href="#cb97-2"></a>fecha</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "25-07-2025 14:30:00"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a><span class="fu">class</span>(fecha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="fragment">
<p>Como el orden es día-mes-año-horas-minutos-segundos usamos…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>fecha <span class="ot">&lt;-</span> <span class="fu">dmy_hms</span>(fecha)</span>
<span id="cb101-2"><a href="#cb101-2"></a>fecha</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-07-25 14:30:00 UTC"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a><span class="fu">class</span>(fecha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSIXct" "POSIXt" </code></pre>
</div>
</div>
<aside class="notes">
<p>Por si preguntan..</p>
<p>UTC significa Coordinated Universal Time (en español, Tiempo Universal Coordinado). Es un estándar de tiempo internacional que no está afectado por husos horarios ni horarios de verano, y se usa como referencia global. Es la “hora cero” a partir de la cual se definen todos los demás husos horarios (por ejemplo, Argentina es UTC−3).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="parse_date_time" class="slide level2 smaller">
<h2><code>parse_date_time()</code></h2>
<ul>
<li><code>parse_date_time()</code> permite construir objetos <code>datetime</code> a partir de datos más complejos, como por ejemplo cuando aparece el nombre del mes y el año.</li>
</ul>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<ul>
<li>Ejemplo</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>fecha  <span class="ot">&lt;-</span> <span class="st">"Dec-92"</span></span>
<span id="cb105-2"><a href="#cb105-2"></a>fecha <span class="ot">&lt;-</span> <span class="fu">parse_date_time</span>(fecha, <span class="at">orders =</span> <span class="st">'my'</span>)</span>
<span id="cb105-3"><a href="#cb105-3"></a>fecha</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1992-12-01 UTC"</code></pre>
</div>
</div>
<p>En el parámetro <code>orders</code> especificamos el orden en el cual se encuentra la información de la fecha.</p>
<aside class="notes">
<p>en este caso, mes y año (my).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="extracción-de-información" class="slide level2">
<h2>Extracción de información</h2>
<p>El paquete <code>lubridate</code> también tiene funciones para extraer información de un objeto <code>datetime</code>. Algunas son:</p>
<ul>
<li><code>year()</code>: <strong>obtener el año</strong></li>
<li><code>month()</code>: <strong>obtener el año</strong></li>
<li><code>day()</code>: <strong>obtener el día</strong></li>
<li><code>wday()</code>: <strong>obtener el nombre del día</strong></li>
<li><code>hour()</code>: <strong>obtener la hora</strong></li>
</ul>
</section>
<section id="ejemplos" class="slide level2 smaller">
<h2>Ejemplos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>fecha</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1992-12-01 UTC"</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">year</span>(fecha) <span class="co"># Obtener el año</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1992</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a><span class="fu">month</span>(fecha) <span class="co"># Obtener el mes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a><span class="fu">day</span>(fecha) <span class="co"># Obtener el día</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a><span class="fu">hour</span>(fecha) <span class="co"># Obtener la hora</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</div>
</section>
<section id="operaciones" class="slide level2 smaller">
<h2>Operaciones</h2>
<ul>
<li>Podemos sumar o restarle cualquier período de tiempo a un objeto <strong>datetime</strong>.</li>
</ul>
<div class="fragment">
<ul>
<li>Ejemplos</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="co"># Sumo dos días </span></span>
<span id="cb117-2"><a href="#cb117-2"></a>fecha <span class="sc">+</span> <span class="fu">days</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1992-12-03 UTC"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a><span class="co"># Resto 1 semana y dos horas</span></span>
<span id="cb119-2"><a href="#cb119-2"></a>fecha <span class="sc">-</span> (<span class="fu">weeks</span>(<span class="dv">1</span>) <span class="sc">+</span> <span class="fu">hours</span>(<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1992-11-23 22:00:00 UTC"</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="stringr" class="title-slide slide level1 smaller center">
<h1>Stringr</h1>
<p>El paquete <code>stringr</code> sirve para trabajar con texto de forma sencilla. Algunas de sus funciones son:</p>
<ul>
<li><p><code>str_length()</code>: devuelve la longitud de un string</p></li>
<li><p><code>str_sub()</code>: extrae los caracteres que se encuentran entre determinadas posiciones</p></li>
<li><p><code>str_trim()</code>: borra los espacios en blanco a izquierda, derecha o ambos lados de nuestro string.</p></li>
<li><p><code>str_to_lower()</code>: lleva todo a minúsculas</p></li>
<li><p><code>str_to_upper()</code>: lleva todo a mayúsculas</p></li>
<li><p><code>str_to_title()</code>: lleva a mayúscula la primer letra de cada palabra</p></li>
<li><p><code>str_split()</code>: parte un string de acuerdo a algún separador</p></li>
<li><p><code>str_replace()</code> y <code>str_replace_all()</code>: reemplazan parte de un string por otro string</p></li>
<li><p><code>str_detect()</code>: encuentra expresiones dentro de nuestros strings</p></li>
</ul>
</section>
<section id="str_length" class="slide level2">
<h2><code>str_length()</code></h2>
<p>Calcula el largo de un string:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>string1 <span class="ot">&lt;-</span> <span class="st">"abcdefghi"</span></span>
<span id="cb121-2"><a href="#cb121-2"></a><span class="fu">str_length</span>(string1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
<div class="fragment">
<p><br></p>
<p>Cuidado que cuenta los espacios en blanco como un caracter!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a>string2 <span class="ot">&lt;-</span> <span class="st">"abcd efghi"</span></span>
<span id="cb123-2"><a href="#cb123-2"></a><span class="fu">str_length</span>(string2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
</div>
</section>
<section id="str_sub" class="slide level2">
<h2><code>str_sub()</code></h2>
<ul>
<li><p>Permite extraer los caracteres que se encuentran entre determinadas posiciones.</p></li>
<li><p>Tiene tres argumentos:</p>
<ul>
<li>el <strong>string</strong></li>
<li>el orden del caracter <strong>a partir</strong> del cual tiene que empezar a extraer</li>
<li>el orden del caracter <strong>hasta</strong> el cual tiene que extraer.</li>
</ul></li>
</ul>
</section>
<section id="str_sub-ejemplos" class="slide level2">
<h2><code>str_sub()</code>: ejemplos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>string1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcdefghi"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a><span class="co"># quiero del segundo al quinto caracter</span></span>
<span id="cb127-2"><a href="#cb127-2"></a><span class="fu">str_sub</span>(string1, <span class="dv">2</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "bcde"</code></pre>
</div>
</div>
<div class="fragment">
<p>Puedo pasarle la posición de los caracteres con un menos para indicar que quiero que cuente de atrás para adelante.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a><span class="co"># quiero la última y anteúltima posición</span></span>
<span id="cb129-2"><a href="#cb129-2"></a><span class="fu">str_sub</span>(string1, <span class="sc">-</span><span class="dv">2</span>, <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hi"</code></pre>
</div>
</div>
</div>
</section>
<section id="str_sub-ejemplos-1" class="slide level2">
<h2><code>str_sub()</code>: ejemplos</h2>
<p>Lo podemos usar para reemplazar elementos. Supongamos que</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a>string1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcdefghi"</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a><span class="co"># quiero reemplazar la última letra por una z</span></span>
<span id="cb133-2"><a href="#cb133-2"></a><span class="fu">str_sub</span>(string1,<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>) <span class="ot">&lt;-</span> <span class="st">"z"</span></span>
<span id="cb133-3"><a href="#cb133-3"></a>string1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcdefghz"</code></pre>
</div>
</div>
</div>
</section>
<section id="manejo-de-espacios-en-blanco" class="slide level2">
<h2>Manejo de espacios en blanco</h2>
<ul>
<li><p>Es frecuente que aparezcan datos mal cargados o con errores de tipeo que tienen espacios donde no debería haberlos.</p></li>
<li><p>La función <code>str_trim()</code> permite borrar los espacios en blanco a izquierda, derecha o ambos lados de nuestro string.</p></li>
</ul>
</section>
<section id="str_trim-sintaxis" class="slide level2">
<h2><code>str_trim()</code>: sintaxis</h2>
<p><code>str_trim(x, side = )</code> tiene dos argumentos:</p>
<ul>
<li><code>x</code>: string al que le queremos borrar los espacios en blanco</li>
<li><code>side</code>: ‘left’, ‘right’ o ‘both’ según si queremos borrar los espacios en blanco a izquierda, derecha o ambos lados.</li>
</ul>
</section>
<section id="str_trim-ejemplo" class="slide level2 smaller">
<h2><code>str_trim()</code>: ejemplo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>string3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"  acelga   "</span>, <span class="st">"brocoli   "</span>,  <span class="st">"   choclo"</span>)</span>
<span id="cb135-2"><a href="#cb135-2"></a>string3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "  acelga   " "brocoli   "  "   choclo"  </code></pre>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a><span class="fu">str_trim</span>(string3, <span class="at">side =</span> <span class="st">'both'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "acelga"  "brocoli" "choclo" </code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a><span class="fu">str_trim</span>(string3, <span class="st">"left"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "acelga   "  "brocoli   " "choclo"    </code></pre>
</div>
</div>
</div>
</section>
<section id="mayúsculas-y-minúsculas" class="slide level2">
<h2>Mayúsculas y minúsculas</h2>
<p>Funciones para manipular las mayusculas/minúsculas de los strings:</p>
<ul>
<li><code>str_to_lower()</code>: lleva todo a minúsculas</li>
<li><code>str_to_upper()</code>: lleva todo a mayúsculas</li>
<li><code>str_to_title()</code>: lleva a mayúscula la primer letra de cada palabra</li>
</ul>
</section>
<section id="mayúsculas-y-minúsculas-ejemplos" class="slide level2">
<h2>Mayúsculas y minúsculas: ejemplos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a>string4 <span class="ot">&lt;-</span> <span class="st">"No me gusta el frio"</span></span>
<span id="cb141-2"><a href="#cb141-2"></a>string4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No me gusta el frio"</code></pre>
</div>
</div>
<div class="fragment">
<p><br></p>
<p>Llevo todo a minúsculas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a><span class="fu">str_to_lower</span>(string4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "no me gusta el frio"</code></pre>
</div>
</div>
</div>
</section>
<section id="mayúsculas-y-minúsculas-ejemplos-1" class="slide level2">
<h2>Mayúsculas y minúsculas: ejemplos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a>string4 <span class="ot">&lt;-</span> <span class="st">"No me gusta el frio"</span></span>
<span id="cb145-2"><a href="#cb145-2"></a>string4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No me gusta el frio"</code></pre>
</div>
</div>
<p><br></p>
<p>Llevo todo a mayúsculas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a><span class="fu">str_to_upper</span>(string4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "NO ME GUSTA EL FRIO"</code></pre>
</div>
</div>
</section>
<section id="mayúsculas-y-minúsculas-ejemplos-2" class="slide level2">
<h2>Mayúsculas y minúsculas: ejemplos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a>string4 <span class="ot">&lt;-</span> <span class="st">"No me gusta el frio"</span></span>
<span id="cb149-2"><a href="#cb149-2"></a>string4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No me gusta el frio"</code></pre>
</div>
</div>
<p><br></p>
<p>Llevo a mayúscula la primer letra de cada palabra</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a><span class="fu">str_to_title</span>(string4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No Me Gusta El Frio"</code></pre>
</div>
</div>
</section>
<section id="str_split" class="slide level2">
<h2><code>str_split()</code></h2>
<p>Permite partir un string de acuerdo a algún separador.</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a>string5 <span class="ot">&lt;-</span> <span class="st">"ab-cd-ef"</span></span>
<span id="cb153-2"><a href="#cb153-2"></a>string5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ab-cd-ef"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Lo separamos por el guion</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a><span class="fu">str_split</span>(string5, <span class="at">pattern =</span> <span class="st">"-"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "ab" "cd" "ef"</code></pre>
</div>
</div>
</div>
</section>
<section id="reemplazar-elementos-de-strings" class="slide level2">
<h2>Reemplazar elementos de strings</h2>
<ul>
<li><p>Las funciones <code>str_replace()</code> y <code>str_replace_all()</code> permiten reemplazar parte de un string por otro string.</p></li>
<li><p><code>str_replace()</code> reemplaza <strong>solo la primera coincidencia</strong> de cada elemento.</p></li>
<li><p><code>str_replace_all()</code> reemplaza <strong>todas las coincidencias</strong> dentro de cada elemento.</p></li>
</ul>
</section>
<section id="str_replace-ejemplos" class="slide level2">
<h2><code>str_replace()</code>: ejemplos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a>frases1 <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb157-2"><a href="#cb157-2"></a>  <span class="st">"Nota: Entregar el informe mañana"</span>,</span>
<span id="cb157-3"><a href="#cb157-3"></a>  <span class="st">"Nota: Revisar gráficos antes de enviar"</span></span>
<span id="cb157-4"><a href="#cb157-4"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<p>Queremos reemplazar “Nota” por “Importante”.</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1"></a><span class="fu">str_replace</span>(frases1, <span class="st">"Nota"</span>, <span class="st">"Importante"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Importante: Entregar el informe mañana"      
[2] "Importante: Revisar gráficos antes de enviar"</code></pre>
</div>
</div>
<aside class="notes">
<p>Como “Nota” aparece solo una vez en cada string basta con usar <code>str_replace()</code></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="str_replace_all-ejemplos" class="slide level2">
<h2><code>str_replace_all()</code>: ejemplos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1"></a>frases2 <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb160-2"><a href="#cb160-2"></a>  <span class="st">"Está muy bueno y muy claro"</span>,</span>
<span id="cb160-3"><a href="#cb160-3"></a>  <span class="st">"Es muy útil, muy práctico, muy recomendado"</span></span>
<span id="cb160-4"><a href="#cb160-4"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Queremos reemplazamos todas las veces que aparece la palabra “muy” por “MUY”</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a><span class="fu">str_replace_all</span>(frases2, <span class="st">"muy"</span>, <span class="st">"MUY"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Está MUY bueno y MUY claro"                
[2] "Es MUY útil, MUY práctico, MUY recomendado"</code></pre>
</div>
</div>
<aside class="notes">
<p>ahora hay que usar str_replace_all porque en cada string “muy” aparece muchas veces.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="str_detect-detectar-patrones-en-strings" class="slide level2">
<h2><code>str_detect()</code> detectar patrones en strings:</h2>
<ul>
<li><p>La funcion <code>str_detect()</code> permite encontrar expresiones dentro de nuestros strings.</p></li>
<li><p>Nos reporta VERDADERO o FALSO de acuerdo a si encuentra la expresión que estamos buscando.</p></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a>string7 <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"caño"</span>, <span class="st">"baño"</span>, <span class="st">"ladrillo"</span>)</span>
<span id="cb163-2"><a href="#cb163-2"></a><span class="fu">str_detect</span>(<span class="at">pattern =</span> <span class="st">"ñ"</span>, <span class="at">string =</span> string7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="ggplot2" class="title-slide slide level1 center">
<h1>ggplot2</h1>
<ul>
<li><p>Paquete muy útil para realizar gráficos.</p></li>
<li><p>Los gráficos de <code>ggplot2</code> se construyen paso a paso agregando nuevos elementos o <strong>capas</strong>.</p></li>
</ul>
</section>
<section id="ggplot2-sintaxis-básica" class="slide level2">
<h2>ggplot2: sintaxis básica</h2>
<p>Necesitamos como mínimo, estas dos capas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb165-2"><a href="#cb165-2"></a>  <span class="at">data =</span> mi_df,</span>
<span id="cb165-3"><a href="#cb165-3"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> var_x, <span class="at">y =</span> var_y)</span>
<span id="cb165-4"><a href="#cb165-4"></a>  ) <span class="sc">+</span></span>
<span id="cb165-5"><a href="#cb165-5"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<ol type="1">
<li><p>la primera capa se construye con la funcion ggplot en la que especificamos que conjunto de datos vamos a utilizar y que variable y como vamos a graficar. En dos slides veremos esto con mas detalle.</p></li>
<li><p>en la segunda capa indicamos que tipo de grafico haremos, en este caso al usar la funcion geom_point haremos un grafico de dispersion. Se pueden usar otras funciones, por ejemplo…</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<!-- ## ggplot2: sintaxis básica -->
<!-- Los gráficos de `ggplot2` se construyen sumando **capas**. -->
<!-- Como mínimo debe tener dos capas: -->
<!-- 1. ggplot() -->
<!-- 2. alguna función de tipo *geom* -->
<!-- ```{r} -->
<!-- #| eval: false -->
<!-- ggplot(data = , mapping = aes()) +  -->
<!--   <GEOM_FUNCTION>()  -->
<!-- ``` -->
</section>
<section id="capas-geométricas" class="slide level2">
<h2>Capas geométricas</h2>
<p>Las funciones de tipo geom definen el tipo de gráfico.</p>
<p>Las más usadas son:</p>
<ul>
<li><p><code>geom_point()</code>: scatter plot</p></li>
<li><p><code>geom_boxplot()</code>: boxplot</p></li>
<li><p><code>geom_bar()</code>: gráfico de barras</p></li>
<li><p><code>geom_line()</code>: líneas o curvas</p></li>
</ul>
<aside class="notes">
<p>En esta clase veremos ejemplos con geom_point() y geom_boxplot().</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<!-- ## ggplot2: sintaxis básica -->
<!-- ```{r} -->
<!-- #| eval: false -->
<!-- ggplot(data = , mapping = aes()) +  -->
<!--   <GEOM_FUNCTION>()  -->
<!-- ``` -->
<!-- 1.  Con `ggplot()` indicamos el **data frame** y las **variables** a graficar -->
<!-- 2.  Con alguna función de tipo *geom* indicamos qué tipo de gráfico realizaremos. Por ejemplo... -->
<!--     -   `geom_point()`: scatter plots -->
<!--     -   `geom_boxplot()`: boxplots -->
<!--     -   `geom_bar()`: gráficos de barras -->
<!--     -   `geom_line()`: rectas y curvas -->
<!-- ::: notes -->
<!-- esta clase veremos algunos ejemplos de `geom_point()` y `geom_boxplot()` -->
<!-- ::: -->
</section>
<section id="capas-adicionales" class="slide level2">
<h2>Capas adicionales</h2>
<p>Podemos enriquecer nuestro gráfico agregando más capas:</p>
<ul>
<li><p><code>labs()</code>: títulos, subtítulos y etiquetas de ejes</p></li>
<li><p><code>theme()</code>: estilo visual (fuentes, márgenes, colores)</p></li>
<li><p><code>facet_wrap()</code> / <code>facet_grid()</code>: paneles por variable</p></li>
</ul>
</section>
<section id="capa-1-ggplot---argumentos" class="slide level2">
<h2>Capa 1: <code>ggplot()</code> - argumentos</h2>
<ul>
<li><p><code>data</code>: data frame con tus datos.</p></li>
<li><p><code>mapping = aes()</code>: mapeo de variables a estéticos</p></li>
</ul>
<p>(qué variables vamos a graficar y cómo).</p>
<p>Ejemplo:</p>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb166-2"><a href="#cb166-2"></a>  <span class="at">data =</span> iris,</span>
<span id="cb166-3"><a href="#cb166-3"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)</span>
<span id="cb166-4"><a href="#cb166-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<!-- ::: {style="font-size:0.8em; line-height:1.2;"} -->
<!-- Vamos a graficar la variable `Sepal.Length` en el eje x y `Petal.Length` en el eje y, ambas del data frame `iris`.  -->
<!-- ::: -->
<aside class="notes">
<p>le estamos diciendo que vamos a graficar a Sepal.Length en el eje x y a Petal.Length en el eje y.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ejemplo-con-iris" class="slide level2 smaller">
<h2>Ejemplo con iris</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb167-2"><a href="#cb167-2"></a>  <span class="at">data =</span> iris,</span>
<span id="cb167-3"><a href="#cb167-3"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)</span>
<span id="cb167-4"><a href="#cb167-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-88-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>Este código crea un <strong>plano de coordenadas</strong> sobre el que se construirá el gráfico, indicando qué variable irá en el eje x (<code>Petal.Length</code>) y cuál en el eje y (<code>Petal.Width</code>).</p>
<p>Todavía no se visualiza nada porque no se indicó qué tipo de gráfico se quiere hacer (por ejemplo, puntos, barras, etc.).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ejemplo-con-iris-1" class="slide level2 smaller">
<h2>Ejemplo con iris</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb168-2"><a href="#cb168-2"></a>  <span class="at">data =</span> iris,</span>
<span id="cb168-3"><a href="#cb168-3"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)</span>
<span id="cb168-4"><a href="#cb168-4"></a>  ) <span class="sc">+</span> </span>
<span id="cb168-5"><a href="#cb168-5"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-89-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>hagamos un scatter plot del ancho del petalo en funcion de la longitud dle petalo.</p>
<p>En aes, le decimos que queremos graficar al Petal.Length en el eje x y a Petal.Width en el eje y.</p>
<p>Con geom_point le decimos que queremos un grafico de puntos.</p>
<p>Veamos que pasa si no usamos otro geom</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ejemplo-con-iris-otro-geom" class="slide level2 smaller">
<h2>Ejemplo con iris: otro <em>geom</em></h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb169-2"><a href="#cb169-2"></a>  <span class="at">data =</span> iris,</span>
<span id="cb169-3"><a href="#cb169-3"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)</span>
<span id="cb169-4"><a href="#cb169-4"></a>  ) <span class="sc">+</span> </span>
<span id="cb169-5"><a href="#cb169-5"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-90-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>podriamos haber agregado otro geom como este, que une los puntos con lineas, pero no tiene sentido hacer este grafico en este caso.</p>
<p>Volvamos al inicial y personalicemoslo agregando algunas capas.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ejemplo-con-iris-2" class="slide level2 smaller">
<h2>Ejemplo con iris</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb170-2"><a href="#cb170-2"></a>  <span class="at">data =</span> iris,</span>
<span id="cb170-3"><a href="#cb170-3"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)</span>
<span id="cb170-4"><a href="#cb170-4"></a>  ) <span class="sc">+</span> </span>
<span id="cb170-5"><a href="#cb170-5"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-91-1.png" width="960"></p>
</div>
</div>
</div>
<p>También podemos hacer un scatter plot con la función <code>plot()</code> del paquete base</p>
</section>
<section id="scatter-plot-con-paquete-base" class="slide level2">
<h2>Scatter plot con paquete <code>Base</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Petal.Length, iris<span class="sc">$</span>Petal.Width)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-92-1.png" width="960" class="r-stretch"><aside class="notes">
<p>Si sólo queremos hacer un scatter plot básico, la sitaxis es más simple con el paquete <code>Base</code> que con <code>ggplot2</code>.</p>
<p>Pero si queremos complejizar o personalizar el gráfico <code>ggplot2</code> ofrece una sintaxis más legible además de generar gráficos más estéticos.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ggplot2-agregamos-etiquetas-y-título" class="slide level2 smaller">
<h2>ggplot2: agregamos etiquetas y título</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)) <span class="sc">+</span></span>
<span id="cb172-2"><a href="#cb172-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb172-3"><a href="#cb172-3"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Medidas de los pétalos"</span>,</span>
<span id="cb172-4"><a href="#cb172-4"></a>       <span class="at">x =</span> <span class="st">"Longitud del pétalo"</span>, </span>
<span id="cb172-5"><a href="#cb172-5"></a>       <span class="at">y =</span> <span class="st">"Longitud del sépalo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-93-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="ggplot2-título-centrado-y-en-negrita" class="slide level2 smaller">
<h2>ggplot2: título centrado y en negrita</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)) <span class="sc">+</span> </span>
<span id="cb173-2"><a href="#cb173-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb173-3"><a href="#cb173-3"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Medidas de los pétalos"</span>,</span>
<span id="cb173-4"><a href="#cb173-4"></a>       <span class="at">x =</span> <span class="st">"Longitud del pétalo"</span>, </span>
<span id="cb173-5"><a href="#cb173-5"></a>       <span class="at">y =</span> <span class="st">"Longitud del sépalo"</span>) <span class="sc">+</span></span>
<span id="cb173-6"><a href="#cb173-6"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-94-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="ggplot2-incluimos-a-la-especie" class="slide level2 smaller">
<h2>ggplot2: incluimos a la especie</h2>
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: left;">Species</th>
<th style="text-align: right;">Sepal.Length</th>
<th style="text-align: right;">Sepal.Width</th>
<th style="text-align: right;">Petal.Length</th>
<th style="text-align: right;">Petal.Width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">setosa</td>
<td style="text-align: right;">5.1</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">0.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">setosa</td>
<td style="text-align: right;">4.9</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">0.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">setosa</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">3.2</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">0.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">setosa</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">0.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">setosa</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">3.6</td>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">0.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">setosa</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">3.9</td>
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">0.4</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Queremos visualizar la variable <code>Species</code>.</p>
<p><code>Species</code> es una variable categórica con 3 niveles: <strong>setosa</strong>, <strong>versicolor</strong> y <strong>virginica</strong>.</p>
<div class="fragment">
<p>Una forma de visualizar una variable categórica es a través del <strong>color</strong>.</p>
<!-- ## ggplot2: incluimos a la especie {.smaller} -->
<!-- ::: {style="font-size:0.8em; line-height:1.2;"} -->
<!-- ```{r} -->
<!-- #| echo: false -->
<!-- knitr::kable(head(iris %>% -->
<!--   select(id, Species, everything()))) -->
<!-- ``` -->
<!-- ::: -->
</div>
</section>
<section id="ggplot2-especie-con-color" class="slide level2 smaller">
<h2>ggplot2: especie con color</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width, <span class="at">color =</span> Species)) <span class="sc">+</span></span>
<span id="cb174-2"><a href="#cb174-2"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-96-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="ggplot2-especie-en-facetas" class="slide level2 smaller">
<h2>ggplot2: especie en facetas</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)) <span class="sc">+</span></span>
<span id="cb175-2"><a href="#cb175-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb175-3"><a href="#cb175-3"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-97-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>otra opcion es dividir al grafico en 3 facetas, una por cada especie.</p>
<p>Para eso debemos agregar otra capa con la funcion <code>facet_wrap</code></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ggplot2-títulos-más-grandes" class="slide level2 smaller">
<h2>ggplot2: títulos más grandes</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width)) <span class="sc">+</span> </span>
<span id="cb176-2"><a href="#cb176-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb176-3"><a href="#cb176-3"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Species) <span class="sc">+</span></span>
<span id="cb176-4"><a href="#cb176-4"></a>  <span class="fu">theme</span>(<span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-98-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="variable-numérica-vs.-categórica" class="slide level2">
<h2>Variable numérica vs.&nbsp;categórica</h2>
<p>Visualizar la relación entre una variable numérica y una categórica, ¿qué tipo de gráfico puedo usar?</p>
</section>
<section id="ggplot2-boxplot" class="slide level2">
<h2>ggplot2: boxplot</h2>
<ul>
<li><p>Cuando queremos explorar la relación entre una variable numérica y una variable categórica, los <strong>gráficos de dispersión (scatter plots)</strong> no son la mejor opción.</p></li>
<li><p>Una alternativa adecuada es el uso de un <strong>boxplot</strong>, que resume la distribución de la variable numérica dentro de cada categoría (nivel) de la variable categórica.</p></li>
<li><p>Veamos cómo crear un boxplot con <code>ggplot2</code>.</p></li>
</ul>
<div class="fragment">
<ul>
<li>Vamos a usar una base de datos reales de la Encuesta Permanente de Hogares (EPH) que publica el INDEC correspondiente al 1er trimestre de 2022.</li>
</ul>
</div>
</section>
<section id="datos-eph" class="slide level2">
<h2>Datos EPH</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read.table</span>(</span>
<span id="cb177-2"><a href="#cb177-2"></a>  <span class="st">"./Datos/usu_individual_T122.txt"</span>,</span>
<span id="cb177-3"><a href="#cb177-3"></a>  <span class="at">sep=</span><span class="st">";"</span>,</span>
<span id="cb177-4"><a href="#cb177-4"></a>  <span class="at">dec=</span><span class="st">","</span>,</span>
<span id="cb177-5"><a href="#cb177-5"></a>  <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb177-6"><a href="#cb177-6"></a><span class="fu">glimpse</span>(<span class="fu">head</span>(datos, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4
Columns: 177
$ CODUSU     &lt;chr&gt; "TQRMNOQXQHLOKQCDEGKDB00777573", "TQRMNOQXQHLOKQCDEGKDB0077…
$ ANO4       &lt;int&gt; 2022, 2022, 2022, 2022
$ TRIMESTRE  &lt;int&gt; 1, 1, 1, 1
$ NRO_HOGAR  &lt;int&gt; 1, 1, 1, 1
$ COMPONENTE &lt;int&gt; 2, 3, 4, 1
$ H15        &lt;int&gt; 1, 1, 1, 1
$ REGION     &lt;int&gt; 43, 43, 43, 1
$ MAS_500    &lt;chr&gt; "N", "N", "N", "S"
$ AGLOMERADO &lt;int&gt; 14, 14, 14, 33
$ PONDERA    &lt;int&gt; 104, 104, 104, 1741
$ CH03       &lt;int&gt; 2, 3, 3, 1
$ CH04       &lt;int&gt; 2, 2, 1, 2
$ CH05       &lt;chr&gt; "12/07/1979", "26/01/2003", "13/06/2008", "09/08/1954"
$ CH06       &lt;int&gt; 42, 19, 13, 67
$ CH07       &lt;int&gt; 2, 5, 5, 2
$ CH08       &lt;int&gt; 1, 1, 1, 1
$ CH09       &lt;int&gt; 1, 1, 1, 1
$ CH10       &lt;int&gt; 2, 1, 1, 2
$ CH11       &lt;int&gt; 0, 1, 1, 0
$ CH12       &lt;int&gt; 6, 6, 4, 7
$ CH13       &lt;int&gt; 1, 2, 2, 1
$ CH14       &lt;int&gt; NA, 1, 2, NA
$ CH15       &lt;int&gt; 1, 1, 1, 1
$ CH15_COD   &lt;int&gt; NA, NA, NA, NA
$ CH16       &lt;int&gt; 1, 1, 1, 1
$ CH16_COD   &lt;int&gt; NA, NA, NA, NA
$ NIVEL_ED   &lt;int&gt; 6, 5, 3, 6
$ ESTADO     &lt;int&gt; 1, 1, 3, 1
$ CAT_OCUP   &lt;int&gt; 3, 3, 0, 2
$ CAT_INAC   &lt;int&gt; 0, 0, 3, 0
$ IMPUTA     &lt;int&gt; NA, NA, NA, NA
$ PP02C1     &lt;int&gt; 0, 0, 0, 0
$ PP02C2     &lt;int&gt; 0, 0, 0, 0
$ PP02C3     &lt;int&gt; 0, 0, 0, 0
$ PP02C4     &lt;int&gt; 0, 0, 0, 0
$ PP02C5     &lt;int&gt; 0, 0, 0, 0
$ PP02C6     &lt;int&gt; 0, 0, 0, 0
$ PP02C7     &lt;int&gt; 0, 0, 0, 0
$ PP02C8     &lt;int&gt; 0, 0, 0, 0
$ PP02E      &lt;int&gt; 0, 0, 0, 0
$ PP02H      &lt;int&gt; 0, 0, 2, 0
$ PP02I      &lt;int&gt; 0, 0, 2, 0
$ PP03C      &lt;int&gt; 1, 1, NA, 1
$ PP03D      &lt;int&gt; 0, 0, NA, 0
$ PP3E_TOT   &lt;int&gt; 50, 36, NA, 21
$ PP3F_TOT   &lt;int&gt; 0, 0, NA, 0
$ PP03G      &lt;int&gt; 2, 2, NA, 1
$ PP03H      &lt;int&gt; 0, 0, NA, 1
$ PP03I      &lt;int&gt; 2, 2, NA, 1
$ PP03J      &lt;int&gt; 2, 2, NA, 1
$ INTENSI    &lt;int&gt; 3, 2, NA, 1
$ PP04A      &lt;int&gt; 1, 2, NA, 2
$ PP04B_COD  &lt;int&gt; 8401, 4808, NA, 3200
$ PP04B1     &lt;int&gt; 2, 2, NA, 2
$ PP04B2     &lt;int&gt; 0, 0, NA, 0
$ PP04B3_MES &lt;int&gt; 0, 0, NA, 0
$ PP04B3_ANO &lt;int&gt; 0, 0, NA, 0
$ PP04B3_DIA &lt;int&gt; 0, 0, NA, 0
$ PP04C      &lt;int&gt; 7, 3, NA, 1
$ PP04C99    &lt;int&gt; 0, 0, NA, 0
$ PP04D_COD  &lt;int&gt; 48311, 30333, NA, 80113
$ PP04G      &lt;int&gt; 1, 1, NA, 1
$ PP05B2_MES &lt;int&gt; 0, 0, NA, 0
$ PP05B2_ANO &lt;int&gt; 0, 0, NA, 0
$ PP05B2_DIA &lt;int&gt; 0, 0, NA, 0
$ PP05C_1    &lt;int&gt; 0, 0, NA, 1
$ PP05C_2    &lt;int&gt; 0, 0, NA, 1
$ PP05C_3    &lt;int&gt; 0, 0, NA, 3
$ PP05E      &lt;int&gt; 0, 0, NA, 1
$ PP05F      &lt;int&gt; 0, 0, NA, 7
$ PP05H      &lt;int&gt; 0, 0, NA, 5
$ PP06A      &lt;int&gt; 0, 0, NA, 2
$ PP06C      &lt;int&gt; 0, 0, NA, -9
$ PP06D      &lt;int&gt; 0, 0, NA, 0
$ PP06E      &lt;int&gt; 0, 0, NA, 0
$ PP06H      &lt;int&gt; 0, 0, NA, 0
$ PP07A      &lt;int&gt; 6, 2, NA, 0
$ PP07C      &lt;int&gt; 2, 1, NA, 0
$ PP07D      &lt;int&gt; 0, 9, NA, 0
$ PP07E      &lt;int&gt; 0, 4, NA, 0
$ PP07F1     &lt;int&gt; 2, 2, NA, 0
$ PP07F2     &lt;int&gt; 2, 2, NA, 0
$ PP07F3     &lt;int&gt; 2, 2, NA, 0
$ PP07F4     &lt;int&gt; 2, 2, NA, 0
$ PP07F5     &lt;int&gt; 5, 5, NA, 0
$ PP07G1     &lt;int&gt; 1, 2, NA, 0
$ PP07G2     &lt;int&gt; 1, 2, NA, 0
$ PP07G3     &lt;int&gt; 1, 2, NA, 0
$ PP07G4     &lt;int&gt; 1, 2, NA, 0
$ PP07G_59   &lt;int&gt; 0, 5, NA, 0
$ PP07H      &lt;int&gt; 1, 2, NA, 0
$ PP07I      &lt;int&gt; 0, 2, NA, 0
$ PP07J      &lt;int&gt; 3, 1, NA, 0
$ PP07K      &lt;int&gt; 1, 4, NA, 0
$ PP08D1     &lt;int&gt; 150000, 10000, NA, 0
$ PP08D4     &lt;int&gt; 0, 0, NA, 0
$ PP08F1     &lt;int&gt; 0, 0, NA, 0
$ PP08F2     &lt;int&gt; 0, 0, NA, 0
$ PP08J1     &lt;int&gt; 0, 0, NA, 0
$ PP08J2     &lt;int&gt; 0, 0, NA, 0
$ PP08J3     &lt;int&gt; 0, 0, NA, 0
$ PP09A      &lt;int&gt; 0, 0, NA, 2
$ PP09A_ESP  &lt;chr&gt; "", "", "", ""
$ PP09B      &lt;int&gt; 0, 0, NA, 0
$ PP09C      &lt;int&gt; 0, 0, NA, 0
$ PP09C_ESP  &lt;chr&gt; "", "", "", ""
$ PP10A      &lt;int&gt; NA, NA, NA, NA
$ PP10C      &lt;int&gt; NA, NA, NA, NA
$ PP10D      &lt;int&gt; NA, NA, NA, NA
$ PP10E      &lt;int&gt; NA, NA, NA, NA
$ PP11A      &lt;int&gt; NA, NA, NA, NA
$ PP11B_COD  &lt;int&gt; NA, NA, NA, NA
$ PP11B1     &lt;int&gt; NA, NA, NA, NA
$ PP11B2_MES &lt;int&gt; NA, NA, NA, NA
$ PP11B2_ANO &lt;int&gt; NA, NA, NA, NA
$ PP11B2_DIA &lt;int&gt; NA, NA, NA, NA
$ PP11C      &lt;int&gt; NA, NA, NA, NA
$ PP11C99    &lt;int&gt; NA, NA, NA, NA
$ PP11D_COD  &lt;int&gt; NA, NA, NA, NA
$ PP11G_ANO  &lt;int&gt; NA, NA, NA, NA
$ PP11G_MES  &lt;int&gt; NA, NA, NA, NA
$ PP11G_DIA  &lt;int&gt; NA, NA, NA, NA
$ PP11L      &lt;int&gt; NA, NA, NA, NA
$ PP11L1     &lt;int&gt; NA, NA, NA, NA
$ PP11M      &lt;int&gt; NA, NA, NA, NA
$ PP11N      &lt;int&gt; NA, NA, NA, NA
$ PP11O      &lt;int&gt; NA, NA, NA, NA
$ PP11P      &lt;int&gt; NA, NA, NA, NA
$ PP11Q      &lt;int&gt; NA, NA, NA, NA
$ PP11R      &lt;int&gt; NA, NA, NA, NA
$ PP11S      &lt;int&gt; NA, NA, NA, NA
$ PP11T      &lt;int&gt; NA, NA, NA, NA
$ P21        &lt;int&gt; 150000, 10000, 0, -9
$ DECOCUR    &lt;int&gt; 10, 1, 0, 12
$ IDECOCUR   &lt;int&gt; 10, 1, 0, NA
$ RDECOCUR   &lt;int&gt; 10, 1, 0, 12
$ GDECOCUR   &lt;int&gt; NA, NA, NA, 12
$ PDECOCUR   &lt;int&gt; 10, 1, 0, NA
$ ADECOCUR   &lt;int&gt; 10, 1, 0, 12
$ PONDIIO    &lt;int&gt; 144, 141, 104, 0
$ TOT_P12    &lt;int&gt; 0, 0, 0, 0
$ P47T       &lt;int&gt; 150000, 10000, 0, -9
$ DECINDR    &lt;int&gt; 10, 1, 0, 12
$ IDECINDR   &lt;int&gt; 10, 1, 0, NA
$ RDECINDR   &lt;int&gt; 10, 1, 0, 12
$ GDECINDR   &lt;int&gt; NA, NA, NA, 12
$ PDECINDR   &lt;int&gt; 10, 1, 0, NA
$ ADECINDR   &lt;int&gt; 10, 1, 0, 12
$ PONDII     &lt;int&gt; 137, 137, 104, 0
$ V2_M       &lt;int&gt; 0, 0, 0, 32629
$ V3_M       &lt;int&gt; 0, 0, 0, 0
$ V4_M       &lt;int&gt; 0, 0, 0, 0
$ V5_M       &lt;int&gt; 0, 0, 0, 0
$ V8_M       &lt;int&gt; 0, 0, 0, 0
$ V9_M       &lt;int&gt; 0, 0, 0, 0
$ V10_M      &lt;int&gt; 0, 0, 0, 0
$ V11_M      &lt;int&gt; 0, 0, 0, 0
$ V12_M      &lt;int&gt; 0, 0, 0, 0
$ V18_M      &lt;int&gt; 0, 0, 0, 0
$ V19_AM     &lt;int&gt; 0, 0, 0, 0
$ V21_M      &lt;int&gt; 0, 0, 0, 0
$ T_VI       &lt;int&gt; 0, 0, 0, 32629
$ ITF        &lt;int&gt; 310000, 310000, 310000, 0
$ DECIFR     &lt;int&gt; 10, 10, 10, 12
$ IDECIFR    &lt;int&gt; 10, 10, 10, NA
$ RDECIFR    &lt;int&gt; 10, 10, 10, 12
$ GDECIFR    &lt;int&gt; NA, NA, NA, 12
$ PDECIFR    &lt;int&gt; 10, 10, 10, NA
$ ADECIFR    &lt;int&gt; 10, 10, 10, 12
$ IPCF       &lt;dbl&gt; 77500, 77500, 77500, 0
$ DECCFR     &lt;int&gt; 9, 9, 9, 12
$ IDECCFR    &lt;int&gt; 9, 9, 9, NA
$ RDECCFR    &lt;int&gt; 9, 9, 9, 12
$ GDECCFR    &lt;int&gt; NA, NA, NA, 12
$ PDECCFR    &lt;int&gt; 9, 9, 9, NA
$ ADECCFR    &lt;int&gt; 10, 10, 10, 12
$ PONDIH     &lt;int&gt; 194, 194, 194, 0</code></pre>
</div>
</div>
</div>
</section>
<section id="datos-eph-1" class="slide level2 smaller">
<h2>Datos EPH</h2>
<p>Trabajaremos con las variables:</p>
<ul>
<li><code>CH04</code>: sexo (<em>categórica</em> con 2 niveles)</li>
<li><code>NIVEL_ED</code>: nivel educativo (<em>categórica</em> con 6 niveles)</li>
<li><code>P21</code>: ingreso (<em>numérica</em>)</li>
</ul>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<p>Veamos cómo leyó R cada una de esas variables:</p>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1"></a>datos <span class="sc">%&gt;%</span></span>
<span id="cb179-2"><a href="#cb179-2"></a>  <span class="fu">select</span>(CH04, NIVEL_ED, P21) <span class="sc">%&gt;%</span></span>
<span id="cb179-3"><a href="#cb179-3"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb179-4"><a href="#cb179-4"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 10
Columns: 3
$ CH04     &lt;int&gt; 2, 2, 1, 2, 1, 2, 1, 2, 2, 1
$ NIVEL_ED &lt;int&gt; 6, 5, 3, 6, 4, 6, 6, 4, 4, 3
$ P21      &lt;int&gt; 150000, 10000, 0, -9, 0, -9, 80000, 0, 0, 0</code></pre>
</div>
</div>
<div style="font-size:0.8em; line-height:1.2;">
<p><code>CH04</code> y <code>NIVEL_ED</code> son categóricas, ¿por qué <code>R</code> las leyó como enteros?</p>
</div>
<aside class="notes">
<p>leyó a las 3 como enteros, sin embargo, CH04 y NIVEL_ED son categoricas, pero las leyó como enteros porque se codificaron con numeros:</p>
<ul>
<li><code>CH04</code>: está codificada con 1 (varón) ó 2 (mujer)</li>
<li><code>NIVEL_ED</code>: está codificada con los enteros del 1 al 6.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="datos-eph-2" class="slide level2">
<h2>Datos EPH</h2>
<p>Queremos avisarle a R que <code>CH04</code> y <code>NIVEL_ED</code> son variables categóricas para que las analice correctamente. Para lo cual debemos pasarlas a tipo <strong>factor</strong>.</p>
<div class="fragment">
<p><br></p>
<p>Objetos de tipo <strong>factor</strong>: objetos de R adecuados para trabajar con variables categóricas.</p>
</div>
</section>
<section id="limpieza-del-data-set" class="slide level2">
<h2>Limpieza del data set</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1"></a>datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb181-2"><a href="#cb181-2"></a>  <span class="fu">rename</span>(<span class="at">SEXO =</span> CH04,</span>
<span id="cb181-3"><a href="#cb181-3"></a>         <span class="at">INGRESO =</span> P21) <span class="sc">%&gt;%</span> </span>
<span id="cb181-4"><a href="#cb181-4"></a>  <span class="fu">mutate</span>(<span class="at">NIVEL_ED =</span> <span class="fu">as.factor</span>(NIVEL_ED),</span>
<span id="cb181-5"><a href="#cb181-5"></a>         <span class="at">SEXO     =</span> <span class="fu">as.factor</span>(SEXO),</span>
<span id="cb181-6"><a href="#cb181-6"></a>         <span class="at">SEXO =</span> <span class="fu">recode</span>(SEXO,</span>
<span id="cb181-7"><a href="#cb181-7"></a>                       <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Hombre"</span>,</span>
<span id="cb181-8"><a href="#cb181-8"></a>                       <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Mujer"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb181-9"><a href="#cb181-9"></a>  <span class="fu">filter</span>(INGRESO <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="boxplot-de-ingreso-por-nivel-educativo" class="slide level2">
<h2>Boxplot de Ingreso por Nivel Educativo</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> NIVEL_ED, <span class="at">y =</span> INGRESO)) <span class="sc">+</span></span>
<span id="cb182-2"><a href="#cb182-2"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-102-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>veamos como lo hariamos con el paquete Base.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="boxplot-con-paquete-base" class="slide level2 smaller">
<h2>Boxplot con Paquete <code>Base</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1"></a><span class="fu">boxplot</span>(datos<span class="sc">$</span>INGRESO <span class="sc">~</span> datos<span class="sc">$</span>NIVEL_ED)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-103-1.png" width="960" class="r-stretch"><aside class="notes">
<p>de nuevo, la sintaxis es mas simple con el paquete Base si queremos hacer un boxplot basico pero si queremos complejizarlo conviene usar ggplot2.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="boxplot-de-ingreso-por-nivel-educativo-1" class="slide level2">
<h2>Boxplot de Ingreso por Nivel Educativo</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> NIVEL_ED, <span class="at">y =</span> INGRESO)) <span class="sc">+</span></span>
<span id="cb184-2"><a href="#cb184-2"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-104-1.png" width="960"></p>
</div>
</div>
</div>
<p>Trunquemos el eje y en 200.000 para visualizar mejor las cajas.</p>
<aside class="notes">
<p>hay un outilier demasiado grande que hace que los boxplot se vean demasiado comprimidos. En vez de quitarlo (lo que deformaria la distribucion verdadera) vamos a pedirle a R que corte en grafico en algun valor, por ejemplo en 200.000 para no ver ningun outlier.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="boxplot-truncados-sin-outliers" class="slide level2">
<h2>Boxplot truncados (sin outliers)</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> NIVEL_ED, <span class="at">y =</span> INGRESO)) <span class="sc">+</span></span>
<span id="cb185-2"><a href="#cb185-2"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb185-3"><a href="#cb185-3"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-105-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>ahora vemos que el ingreso aumenta con el nivel educativo salvo para el 7mo nivel, lo cual es llamativo.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="incluimos-al-sexo" class="slide level2">
<h2>Incluimos al sexo</h2>
<p>Si queremos analizar la relación entre el <strong>ingreso</strong> y el <strong>nivel educativo</strong> para cada <strong>sexo</strong>, podemos separar el gráfico en <code>facetas</code> según el sexo.</p>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<p><br></p>
<p>Para ello debemos incluir una capa con</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1"></a><span class="fu">facet_wrap</span>(<span class="sc">~</span> SEXO)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="incluimos-al-sexo-1" class="slide level2 smaller">
<h2>Incluimos al sexo</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> NIVEL_ED, <span class="at">y =</span> INGRESO)) <span class="sc">+</span></span>
<span id="cb187-2"><a href="#cb187-2"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb187-3"><a href="#cb187-3"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200000</span>)) <span class="sc">+</span></span>
<span id="cb187-4"><a href="#cb187-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> SEXO)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-107-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>vemos que en ambos sexos la relacion entre ingreso y nivel educativo es similar.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<p>Si queremos colorear los boxplot según el nivel educativo debemos asignar <code>NIVEL_ED</code> al atributo estetico <code>"fill"</code>.</p>
<aside class="notes">
<p>Queremos pintar los boxplot de un colores distintos segun el nivel educativo para comparar mas facil los boxplot de un mismo nivel.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="boxplots-coloreados-por-nivel-educativo" class="slide level2 smaller">
<h2>Boxplots coloreados por nivel educativo</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> NIVEL_ED, <span class="at">y =</span> INGRESO, <span class="at">fill =</span> NIVEL_ED)) <span class="sc">+</span></span>
<span id="cb188-2"><a href="#cb188-2"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb188-3"><a href="#cb188-3"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200000</span>)) <span class="sc">+</span></span>
<span id="cb188-4"><a href="#cb188-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> SEXO)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-108-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>Notemos que la leyenda del color es redundante, ya se sabe (por los nros del eje x) a qué nivel corresponde cada color.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<p>La leyenda del color es redundante, podemos eliminarla con <code>theme(legend.position = "none")</code>.</p>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="eliminamos-leyenda" class="slide level2 smaller">
<h2>Eliminamos leyenda</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> NIVEL_ED, <span class="at">y =</span> INGRESO, <span class="at">fill =</span> NIVEL_ED)) <span class="sc">+</span></span>
<span id="cb189-2"><a href="#cb189-2"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb189-3"><a href="#cb189-3"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200000</span>)) <span class="sc">+</span></span>
<span id="cb189-4"><a href="#cb189-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> SEXO) <span class="sc">+</span></span>
<span id="cb189-5"><a href="#cb189-5"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-109-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>con <code>theme(legend.position = "none")</code></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ingreso-vs.-nivel-educativo-por-sexo" class="slide level2">
<h2>Ingreso vs.&nbsp;Nivel Educativo por Sexo</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-110-1.png" width="960"></p>
</div>
</div>
</div>
<p>Este gráfico permite comparar el <strong>ingreso</strong> entre los distintos <strong>niveles educativos</strong> para cada <strong>sexo</strong>.</p>
<div class="fragment">
<p>¿Qué hacemos si queremos comparar el <strong>ingreso</strong> entre ambos <strong>sexos</strong> para cada <strong>nivel educativo</strong>?</p>
</div>
</section>
<section id="ingreso-vs.-sexo-por-nivel-educativo" class="slide level2 smaller">
<h2>Ingreso vs.&nbsp;Sexo por Nivel Educativo</h2>
<div style="font-size:0.8em; line-height:1.2;">
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> SEXO, <span class="at">y =</span> INGRESO, <span class="at">fill =</span> SEXO)) <span class="sc">+</span></span>
<span id="cb190-2"><a href="#cb190-2"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb190-3"><a href="#cb190-3"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200000</span>)) <span class="sc">+</span></span>
<span id="cb190-4"><a href="#cb190-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> NIVEL_ED) <span class="sc">+</span></span>
<span id="cb190-5"><a href="#cb190-5"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="PresentacionClase2_files/figure-revealjs/unnamed-chunk-111-1.png" width="960"></p>
</div>
</div>
</div>
<aside class="notes">
<p>Intercambiamos los roles de SEXO y NIVEL_ED. Ahora el SEXO va en los estéticos <code>x</code> y <code>fill</code> y el NIVEL_ED en las <code>facetas</code>. Vemos que en cada nivel educativo los hombres tienen mayores ingresos.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p><img src="Figuras/Rlogo.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="PresentacionClase2_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="PresentacionClase2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="PresentacionClase2_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="PresentacionClase2_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="PresentacionClase2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="PresentacionClase2_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="PresentacionClase2_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="PresentacionClase2_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="PresentacionClase2_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="PresentacionClase2_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="PresentacionClase2_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>